2025-11-25 08:35:11 [main] INFO  r.r.y.u.UserServiceApplication - Starting UserServiceApplication using Java 22.0.2 with PID 6580 (O:\Projects\Java\Inventory-Manager\user-service\target\classes started by 21HD in O:\Projects\Java\Inventory-Manager\user-service)
2025-11-25 08:35:12 [main] DEBUG r.r.y.u.UserServiceApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-11-25 08:35:12 [main] INFO  r.r.y.u.UserServiceApplication - The following 1 profile is active: "dev"
2025-11-25 08:35:12 [main] INFO  o.s.c.c.c.ConfigServerConfigDataLoader - Fetching config from server at : http://localhost:8888
2025-11-25 08:35:12 [main] INFO  o.s.c.c.c.ConfigServerConfigDataLoader - Located environment: name=user-service, profiles=[default], label=null, version=76650a822f01044d5af5729fc2414b7094afb23b, state=
2025-11-25 08:35:12 [main] INFO  o.s.c.c.c.ConfigServerConfigDataLoader - Fetching config from server at : http://localhost:8888
2025-11-25 08:35:12 [main] INFO  o.s.c.c.c.ConfigServerConfigDataLoader - Located environment: name=user-service, profiles=[dev], label=null, version=76650a822f01044d5af5729fc2414b7094afb23b, state=
2025-11-25 08:35:13 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-25 08:35:13 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-25 08:35:13 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 194 ms. Found 3 JPA repository interfaces.
2025-11-25 08:35:13 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-25 08:35:13 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-25 08:35:13 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface rca.restapi.year2.userservice.repository.AddressRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-25 08:35:13 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface rca.restapi.year2.userservice.repository.RefreshTokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-25 08:35:13 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface rca.restapi.year2.userservice.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-25 08:35:13 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 23 ms. Found 0 Redis repository interfaces.
2025-11-25 08:35:14 [main] INFO  o.s.cloud.context.scope.GenericScope - BeanFactory id=f76611ae-b0b0-3638-86c3-de0e9740510f
2025-11-25 08:35:14 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8082 (http)
2025-11-25 08:35:14 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-25 08:35:14 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-11-25 08:35:15 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-25 08:35:15 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2947 ms
2025-11-25 08:35:15 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-25 08:35:16 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@6e225c34
2025-11-25 08:35:16 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-25 08:35:16 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5432/userdb (PostgreSQL 17.0)
2025-11-25 08:35:16 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 1 migration (execution time 00:00.048s)
2025-11-25 08:35:16 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 1
2025-11-25 08:35:16 [main] ERROR o.f.core.internal.command.DbMigrate - Schema "public" has version 1, but no migration could be resolved in the configured locations !
2025-11-25 08:35:16 [main] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-11-25 08:35:16 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-25 08:35:16 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.15.Final
2025-11-25 08:35:16 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-25 08:35:17 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-25 08:35:17 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-25 08:35:18 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-25 08:35:19 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-25 08:35:19 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-25 08:35:20 [main] DEBUG r.r.y.u.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-25 08:35:20 [main] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-11-25 08:35:20 [main] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-11-25 08:35:21 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-25 08:35:22 [main] INFO  o.s.cloud.commons.util.InetUtils - Cannot determine local hostname
2025-11-25 08:35:23 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-11-25 08:35:23 [main] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-25 08:35:24 [main] INFO  o.s.cloud.commons.util.InetUtils - Cannot determine local hostname
2025-11-25 08:35:25 [main] INFO  o.s.c.n.e.c.DiscoveryClientOptionalArgsConfiguration - Eureka HTTP Client uses RestTemplate.
2025-11-25 08:35:25 [main] WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-11-25 08:35:25 [main] INFO  o.s.c.n.eureka.InstanceInfoFactory - Setting initial instance status as: STARTING
2025-11-25 08:35:25 [main] INFO  c.netflix.discovery.DiscoveryClient - Initializing Eureka in region us-east-1
2025-11-25 08:35:25 [main] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-11-25 08:35:25 [main] INFO  c.netflix.discovery.DiscoveryClient - Disable delta property : false
2025-11-25 08:35:25 [main] INFO  c.netflix.discovery.DiscoveryClient - Single vip registry refresh property : null
2025-11-25 08:35:25 [main] INFO  c.netflix.discovery.DiscoveryClient - Force full registry fetch : false
2025-11-25 08:35:25 [main] INFO  c.netflix.discovery.DiscoveryClient - Application is null : false
2025-11-25 08:35:25 [main] INFO  c.netflix.discovery.DiscoveryClient - Registered Applications size is zero : true
2025-11-25 08:35:25 [main] INFO  c.netflix.discovery.DiscoveryClient - Application version is -1: true
2025-11-25 08:35:25 [main] INFO  c.netflix.discovery.DiscoveryClient - Getting all instance registry info from the eureka server
2025-11-25 08:35:25 [main] INFO  c.netflix.discovery.DiscoveryClient - The response status is 200
2025-11-25 08:35:25 [main] INFO  c.netflix.discovery.DiscoveryClient - Starting heartbeat executor: renew interval is: 30
2025-11-25 08:35:25 [main] INFO  c.n.discovery.InstanceInfoReplicator - InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-11-25 08:35:25 [main] INFO  c.netflix.discovery.DiscoveryClient - Discovery Client initialized at timestamp 1764052525802 with initial instances count: 2
2025-11-25 08:35:25 [main] INFO  o.s.c.n.e.s.EurekaServiceRegistry - Registering application USER-SERVICE with eureka with status UP
2025-11-25 08:35:25 [main] INFO  c.netflix.discovery.DiscoveryClient - Saw local status change event StatusChangeEvent [timestamp=1764052525825, current=UP, previous=STARTING]
2025-11-25 08:35:25 [DiscoveryClient-InstanceInfoReplicator-%d] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_USER-SERVICE/localhost:user-service:8082: registering service...
2025-11-25 08:35:25 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8082 (http) with context path '/'
2025-11-25 08:35:25 [main] INFO  o.s.c.n.e.s.EurekaAutoServiceRegistration - Updating port to 8082
2025-11-25 08:35:25 [DiscoveryClient-InstanceInfoReplicator-%d] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_USER-SERVICE/localhost:user-service:8082 - registration status: 204
2025-11-25 08:35:26 [main] INFO  o.s.cloud.commons.util.InetUtils - Cannot determine local hostname
2025-11-25 08:35:27 [main] INFO  r.r.y.u.UserServiceApplication - Started UserServiceApplication in 25.399 seconds (process running for 26.188)
2025-11-25 08:36:27 [http-nio-8082-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-25 08:36:27 [http-nio-8082-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-25 08:36:27 [http-nio-8082-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 8 ms
2025-11-25 08:36:27 [http-nio-8082-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /auth/login
2025-11-25 08:36:27 [http-nio-8082-exec-2] DEBUG r.r.y.u.s.JwtAuthenticationFilter - Skipping JWT validation for public endpoint: /auth/login
2025-11-25 08:36:27 [http-nio-8082-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-25 08:36:27 [http-nio-8082-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /auth/login
2025-11-25 08:36:27 [http-nio-8082-exec-2] INFO  r.r.y.u.c.AuthenticationController - Login request received for: john@example.com
2025-11-25 08:36:27 [http-nio-8082-exec-2] INFO  r.r.y.u.s.AuthenticationService - Login attempt for user: john@example.com
2025-11-25 08:36:27 [http-nio-8082-exec-2] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_locked_until,u1_0.avatar_url,u1_0.created_at,u1_0.email,u1_0.email_verified,u1_0.failed_login_attempts,u1_0.first_name,u1_0.last_login_at,u1_0.last_name,u1_0.password,u1_0.phone,u1_0.role,u1_0.status,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.email=?
2025-11-25 08:36:28 [http-nio-8082-exec-2] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_locked_until,u1_0.avatar_url,u1_0.created_at,u1_0.email,u1_0.email_verified,u1_0.failed_login_attempts,u1_0.first_name,u1_0.last_login_at,u1_0.last_name,u1_0.password,u1_0.phone,u1_0.role,u1_0.status,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.email=?
2025-11-25 08:36:29 [http-nio-8082-exec-2] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-11-25 08:36:30 [http-nio-8082-exec-2] DEBUG org.hibernate.SQL - update users set account_locked_until=?,avatar_url=?,email=?,email_verified=?,failed_login_attempts=?,first_name=?,last_login_at=?,last_name=?,password=?,phone=?,role=?,status=?,updated_at=?,username=? where id=?
2025-11-25 08:36:30 [http-nio-8082-exec-2] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_locked_until,u1_0.avatar_url,u1_0.created_at,u1_0.email,u1_0.email_verified,u1_0.failed_login_attempts,u1_0.first_name,u1_0.last_login_at,u1_0.last_name,u1_0.password,u1_0.phone,u1_0.role,u1_0.status,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.email=?
2025-11-25 08:36:30 [http-nio-8082-exec-2] DEBUG r.r.y.u.security.JwtService - Generating access token for user: john@example.com with roles: [USER]
2025-11-25 08:36:30 [http-nio-8082-exec-2] DEBUG org.hibernate.SQL - delete from refresh_tokens rt1_0 where rt1_0.user_id=?
2025-11-25 08:36:30 [http-nio-8082-exec-2] DEBUG org.hibernate.SQL - insert into refresh_tokens (created_at,expires_at,revoked,token,user_id) values (?,?,?,?,?)
2025-11-25 08:36:30 [http-nio-8082-exec-2] INFO  r.r.y.u.s.AuthenticationService - User logged in successfully: john@example.com
2025-11-25 08:40:25 [AsyncResolver-bootstrap-executor-%d] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-11-25 08:45:25 [AsyncResolver-bootstrap-executor-%d] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-11-25 08:50:25 [AsyncResolver-bootstrap-executor-%d] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-11-25 08:51:50 [http-nio-8082-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /auth/login
2025-11-25 08:51:50 [http-nio-8082-exec-3] DEBUG r.r.y.u.s.JwtAuthenticationFilter - Skipping JWT validation for public endpoint: /auth/login
2025-11-25 08:51:50 [http-nio-8082-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-25 08:51:50 [http-nio-8082-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /auth/login
2025-11-25 08:51:50 [http-nio-8082-exec-3] INFO  r.r.y.u.c.AuthenticationController - Login request received for: john@example.com
2025-11-25 08:51:50 [http-nio-8082-exec-3] INFO  r.r.y.u.s.AuthenticationService - Login attempt for user: john@example.com
2025-11-25 08:51:50 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_locked_until,u1_0.avatar_url,u1_0.created_at,u1_0.email,u1_0.email_verified,u1_0.failed_login_attempts,u1_0.first_name,u1_0.last_login_at,u1_0.last_name,u1_0.password,u1_0.phone,u1_0.role,u1_0.status,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.email=?
2025-11-25 08:51:51 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_locked_until,u1_0.avatar_url,u1_0.created_at,u1_0.email,u1_0.email_verified,u1_0.failed_login_attempts,u1_0.first_name,u1_0.last_login_at,u1_0.last_name,u1_0.password,u1_0.phone,u1_0.role,u1_0.status,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.email=?
2025-11-25 08:51:51 [http-nio-8082-exec-3] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-11-25 08:51:51 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - update users set account_locked_until=?,avatar_url=?,email=?,email_verified=?,failed_login_attempts=?,first_name=?,last_login_at=?,last_name=?,password=?,phone=?,role=?,status=?,updated_at=?,username=? where id=?
2025-11-25 08:51:51 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_locked_until,u1_0.avatar_url,u1_0.created_at,u1_0.email,u1_0.email_verified,u1_0.failed_login_attempts,u1_0.first_name,u1_0.last_login_at,u1_0.last_name,u1_0.password,u1_0.phone,u1_0.role,u1_0.status,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.email=?
2025-11-25 08:51:51 [http-nio-8082-exec-3] DEBUG r.r.y.u.security.JwtService - Generating access token for user: john@example.com with roles: [USER]
2025-11-25 08:51:52 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - delete from refresh_tokens rt1_0 where rt1_0.user_id=?
2025-11-25 08:51:52 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - insert into refresh_tokens (created_at,expires_at,revoked,token,user_id) values (?,?,?,?,?)
2025-11-25 08:51:52 [http-nio-8082-exec-3] INFO  r.r.y.u.s.AuthenticationService - User logged in successfully: john@example.com
2025-11-25 08:53:22 [http-nio-8082-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users/me
2025-11-25 08:53:23 [http-nio-8082-exec-7] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_locked_until,u1_0.avatar_url,u1_0.created_at,u1_0.email,u1_0.email_verified,u1_0.failed_login_attempts,u1_0.first_name,u1_0.last_login_at,u1_0.last_name,u1_0.password,u1_0.phone,u1_0.role,u1_0.status,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.email=?
2025-11-25 08:53:23 [http-nio-8082-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users/me
2025-11-25 08:53:23 [http-nio-8082-exec-7] ERROR r.r.y.u.e.GlobalExceptionHandler - Unexpected error: 
org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/users/me.
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:585)
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:52)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at rca.restapi.year2.userservice.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:87)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1570)
2025-11-25 08:54:03 [http-nio-8082-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /users/me
2025-11-25 08:54:03 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_locked_until,u1_0.avatar_url,u1_0.created_at,u1_0.email,u1_0.email_verified,u1_0.failed_login_attempts,u1_0.first_name,u1_0.last_login_at,u1_0.last_name,u1_0.password,u1_0.phone,u1_0.role,u1_0.status,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.email=?
2025-11-25 08:54:03 [http-nio-8082-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /users/me
2025-11-25 08:54:03 [http-nio-8082-exec-9] INFO  r.r.y.u.controller.UserController - Fetching current user profile: john@example.com
2025-11-25 08:54:05 [http-nio-8082-exec-9] INFO  r.r.y.u.service.UserService - Fetching user by email: john@example.com
2025-11-25 08:54:05 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_locked_until,u1_0.avatar_url,u1_0.created_at,u1_0.email,u1_0.email_verified,u1_0.failed_login_attempts,u1_0.first_name,u1_0.last_login_at,u1_0.last_name,u1_0.password,u1_0.phone,u1_0.role,u1_0.status,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.email=?
2025-11-25 08:54:05 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - select a1_0.user_id,a1_0.id,a1_0.city,a1_0.country,a1_0.created_at,a1_0.is_default,a1_0.label,a1_0.postal_code,a1_0.state,a1_0.street_address from addresses a1_0 where a1_0.user_id=?
2025-11-25 08:55:25 [AsyncResolver-bootstrap-executor-%d] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-11-25 09:00:25 [AsyncResolver-bootstrap-executor-%d] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-11-25 09:05:26 [AsyncResolver-bootstrap-executor-%d] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-11-25 09:10:26 [AsyncResolver-bootstrap-executor-%d] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-11-25 09:13:56 [http-nio-8082-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /auth/login
2025-11-25 09:13:56 [http-nio-8082-exec-4] DEBUG r.r.y.u.s.JwtAuthenticationFilter - Skipping JWT validation for public endpoint: /auth/login
2025-11-25 09:13:56 [http-nio-8082-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-25 09:13:56 [http-nio-8082-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /auth/login
2025-11-25 09:13:56 [http-nio-8082-exec-4] INFO  r.r.y.u.c.AuthenticationController - Login request received for: john@example.com
2025-11-25 09:13:56 [http-nio-8082-exec-4] INFO  r.r.y.u.s.AuthenticationService - Login attempt for user: john@example.com
2025-11-25 09:13:56 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_locked_until,u1_0.avatar_url,u1_0.created_at,u1_0.email,u1_0.email_verified,u1_0.failed_login_attempts,u1_0.first_name,u1_0.last_login_at,u1_0.last_name,u1_0.password,u1_0.phone,u1_0.role,u1_0.status,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.email=?
2025-11-25 09:13:57 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_locked_until,u1_0.avatar_url,u1_0.created_at,u1_0.email,u1_0.email_verified,u1_0.failed_login_attempts,u1_0.first_name,u1_0.last_login_at,u1_0.last_name,u1_0.password,u1_0.phone,u1_0.role,u1_0.status,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.email=?
2025-11-25 09:13:58 [http-nio-8082-exec-4] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-11-25 09:13:58 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - update users set account_locked_until=?,avatar_url=?,email=?,email_verified=?,failed_login_attempts=?,first_name=?,last_login_at=?,last_name=?,password=?,phone=?,role=?,status=?,updated_at=?,username=? where id=?
2025-11-25 09:13:58 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_locked_until,u1_0.avatar_url,u1_0.created_at,u1_0.email,u1_0.email_verified,u1_0.failed_login_attempts,u1_0.first_name,u1_0.last_login_at,u1_0.last_name,u1_0.password,u1_0.phone,u1_0.role,u1_0.status,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.email=?
2025-11-25 09:13:58 [http-nio-8082-exec-4] DEBUG r.r.y.u.security.JwtService - Generating access token for user: john@example.com with roles: [USER]
2025-11-25 09:13:58 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - delete from refresh_tokens rt1_0 where rt1_0.user_id=?
2025-11-25 09:13:58 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - insert into refresh_tokens (created_at,expires_at,revoked,token,user_id) values (?,?,?,?,?)
2025-11-25 09:13:58 [http-nio-8082-exec-4] INFO  r.r.y.u.s.AuthenticationService - User logged in successfully: john@example.com
2025-11-25 09:15:26 [AsyncResolver-bootstrap-executor-%d] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-11-25 09:20:26 [AsyncResolver-bootstrap-executor-%d] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-11-25 09:25:26 [AsyncResolver-bootstrap-executor-%d] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-11-25 09:30:26 [AsyncResolver-bootstrap-executor-%d] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-11-25 09:35:26 [AsyncResolver-bootstrap-executor-%d] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-11-25 09:40:26 [AsyncResolver-bootstrap-executor-%d] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-11-25 14:18:31 [main] INFO  r.r.y.u.UserServiceApplication - Starting UserServiceApplication using Java 22.0.2 with PID 10748 (O:\Projects\Java\Inventory-Manager\user-service\target\classes started by 21HD in O:\Projects\Java\Inventory-Manager\user-service)
2025-11-25 14:18:31 [main] DEBUG r.r.y.u.UserServiceApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-11-25 14:18:31 [main] INFO  r.r.y.u.UserServiceApplication - The following 1 profile is active: "dev"
2025-11-25 14:18:31 [main] INFO  o.s.c.c.c.ConfigServerConfigDataLoader - Fetching config from server at : http://localhost:8888
2025-11-25 14:18:31 [main] INFO  o.s.c.c.c.ConfigServerConfigDataLoader - Located environment: name=user-service, profiles=[default], label=null, version=76650a822f01044d5af5729fc2414b7094afb23b, state=
2025-11-25 14:18:31 [main] INFO  o.s.c.c.c.ConfigServerConfigDataLoader - Fetching config from server at : http://localhost:8888
2025-11-25 14:18:31 [main] INFO  o.s.c.c.c.ConfigServerConfigDataLoader - Located environment: name=user-service, profiles=[dev], label=null, version=76650a822f01044d5af5729fc2414b7094afb23b, state=
2025-11-25 14:18:34 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-25 14:18:34 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-25 14:18:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 453 ms. Found 3 JPA repository interfaces.
2025-11-25 14:18:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-25 14:18:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-25 14:18:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface rca.restapi.year2.userservice.repository.AddressRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-25 14:18:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface rca.restapi.year2.userservice.repository.RefreshTokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-25 14:18:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface rca.restapi.year2.userservice.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-25 14:18:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 27 ms. Found 0 Redis repository interfaces.
2025-11-25 14:18:36 [main] INFO  o.s.cloud.context.scope.GenericScope - BeanFactory id=f76611ae-b0b0-3638-86c3-de0e9740510f
2025-11-25 14:18:37 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8082 (http)
2025-11-25 14:18:37 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-25 14:18:37 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-11-25 14:18:38 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-25 14:18:38 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 6810 ms
2025-11-25 14:18:39 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-25 14:18:39 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3539cf45
2025-11-25 14:18:39 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-25 14:18:39 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5432/userdb (PostgreSQL 17.0)
2025-11-25 14:18:39 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 1 migration (execution time 00:00.069s)
2025-11-25 14:18:39 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 1
2025-11-25 14:18:39 [main] ERROR o.f.core.internal.command.DbMigrate - Schema "public" has version 1, but no migration could be resolved in the configured locations !
2025-11-25 14:18:39 [main] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-11-25 14:18:40 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-25 14:18:40 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.15.Final
2025-11-25 14:18:40 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-25 14:18:41 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-25 14:18:41 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-25 14:18:44 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-25 14:18:45 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-25 14:18:46 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-25 14:18:47 [main] DEBUG r.r.y.u.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-25 14:18:48 [main] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-11-25 14:18:48 [main] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-11-25 14:18:49 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-25 14:18:51 [main] INFO  o.s.cloud.commons.util.InetUtils - Cannot determine local hostname
2025-11-25 14:18:51 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-11-25 14:18:51 [main] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-25 14:18:54 [main] INFO  o.s.cloud.commons.util.InetUtils - Cannot determine local hostname
2025-11-25 14:18:54 [main] INFO  o.s.c.n.e.c.DiscoveryClientOptionalArgsConfiguration - Eureka HTTP Client uses RestTemplate.
2025-11-25 14:18:54 [main] WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-11-25 14:18:54 [main] INFO  o.s.c.n.eureka.InstanceInfoFactory - Setting initial instance status as: STARTING
2025-11-25 14:18:54 [main] INFO  c.netflix.discovery.DiscoveryClient - Initializing Eureka in region us-east-1
2025-11-25 14:18:54 [main] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-11-25 14:18:54 [main] INFO  c.netflix.discovery.DiscoveryClient - Disable delta property : false
2025-11-25 14:18:54 [main] INFO  c.netflix.discovery.DiscoveryClient - Single vip registry refresh property : null
2025-11-25 14:18:54 [main] INFO  c.netflix.discovery.DiscoveryClient - Force full registry fetch : false
2025-11-25 14:18:54 [main] INFO  c.netflix.discovery.DiscoveryClient - Application is null : false
2025-11-25 14:18:54 [main] INFO  c.netflix.discovery.DiscoveryClient - Registered Applications size is zero : true
2025-11-25 14:18:54 [main] INFO  c.netflix.discovery.DiscoveryClient - Application version is -1: true
2025-11-25 14:18:54 [main] INFO  c.netflix.discovery.DiscoveryClient - Getting all instance registry info from the eureka server
2025-11-25 14:18:55 [main] INFO  c.netflix.discovery.DiscoveryClient - The response status is 200
2025-11-25 14:18:55 [main] INFO  c.netflix.discovery.DiscoveryClient - Starting heartbeat executor: renew interval is: 30
2025-11-25 14:18:55 [main] INFO  c.n.discovery.InstanceInfoReplicator - InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-11-25 14:18:55 [main] INFO  c.netflix.discovery.DiscoveryClient - Discovery Client initialized at timestamp 1764073135870 with initial instances count: 3
2025-11-25 14:18:55 [main] INFO  o.s.c.n.e.s.EurekaServiceRegistry - Registering application USER-SERVICE with eureka with status UP
2025-11-25 14:18:55 [main] INFO  c.netflix.discovery.DiscoveryClient - Saw local status change event StatusChangeEvent [timestamp=1764073135898, current=UP, previous=STARTING]
2025-11-25 14:18:55 [DiscoveryClient-InstanceInfoReplicator-%d] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_USER-SERVICE/localhost:user-service:8082: registering service...
2025-11-25 14:18:55 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8082 (http) with context path '/'
2025-11-25 14:18:55 [main] INFO  o.s.c.n.e.s.EurekaAutoServiceRegistration - Updating port to 8082
2025-11-25 14:18:56 [DiscoveryClient-InstanceInfoReplicator-%d] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_USER-SERVICE/localhost:user-service:8082 - registration status: 204
2025-11-25 14:18:57 [main] INFO  o.s.cloud.commons.util.InetUtils - Cannot determine local hostname
2025-11-25 14:18:57 [main] INFO  r.r.y.u.UserServiceApplication - Started UserServiceApplication in 42.583 seconds (process running for 44.45)
2025-11-25 14:19:02 [http-nio-8082-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-25 14:19:02 [http-nio-8082-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-25 14:19:02 [http-nio-8082-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 4 ms
2025-11-25 14:19:02 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /auth/refresh
2025-11-25 14:19:02 [http-nio-8082-exec-1] DEBUG r.r.y.u.s.JwtAuthenticationFilter - Skipping JWT validation for public endpoint: /auth/refresh
2025-11-25 14:19:02 [http-nio-8082-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-25 14:19:02 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /auth/refresh
2025-11-25 14:19:02 [http-nio-8082-exec-1] INFO  r.r.y.u.c.AuthenticationController - Token refresh request received
2025-11-25 14:19:02 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - select rt1_0.id,rt1_0.created_at,rt1_0.expires_at,rt1_0.revoked,rt1_0.token,rt1_0.user_id from refresh_tokens rt1_0 where rt1_0.token=?
2025-11-25 14:19:02 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_locked_until,u1_0.avatar_url,u1_0.created_at,u1_0.email,u1_0.email_verified,u1_0.failed_login_attempts,u1_0.first_name,u1_0.last_login_at,u1_0.last_name,u1_0.password,u1_0.phone,u1_0.role,u1_0.status,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.id=?
2025-11-25 14:19:02 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_locked_until,u1_0.avatar_url,u1_0.created_at,u1_0.email,u1_0.email_verified,u1_0.failed_login_attempts,u1_0.first_name,u1_0.last_login_at,u1_0.last_name,u1_0.password,u1_0.phone,u1_0.role,u1_0.status,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.email=?
2025-11-25 14:19:02 [http-nio-8082-exec-1] DEBUG r.r.y.u.security.JwtService - Generating access token for user: john@example.com with roles: [USER]
2025-11-25 14:19:03 [http-nio-8082-exec-1] INFO  r.r.y.u.s.AuthenticationService - Token refreshed for user: john@example.com
2025-11-25 14:25:33 [main] INFO  r.r.y.u.UserServiceApplication - Starting UserServiceApplication using Java 22.0.2 with PID 11584 (O:\Projects\Java\Inventory-Manager\user-service\target\classes started by 21HD in O:\Projects\Java\Inventory-Manager\user-service)
2025-11-25 14:25:33 [main] DEBUG r.r.y.u.UserServiceApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-11-25 14:25:33 [main] INFO  r.r.y.u.UserServiceApplication - The following 1 profile is active: "dev"
2025-11-25 14:25:33 [main] INFO  o.s.c.c.c.ConfigServerConfigDataLoader - Fetching config from server at : http://localhost:8888
2025-11-25 14:25:33 [main] INFO  o.s.c.c.c.ConfigServerConfigDataLoader - Located environment: name=user-service, profiles=[default], label=null, version=76650a822f01044d5af5729fc2414b7094afb23b, state=
2025-11-25 14:25:33 [main] INFO  o.s.c.c.c.ConfigServerConfigDataLoader - Fetching config from server at : http://localhost:8888
2025-11-25 14:25:33 [main] INFO  o.s.c.c.c.ConfigServerConfigDataLoader - Located environment: name=user-service, profiles=[dev], label=null, version=76650a822f01044d5af5729fc2414b7094afb23b, state=
2025-11-25 14:25:36 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-25 14:25:36 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-25 14:25:37 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 205 ms. Found 3 JPA repository interfaces.
2025-11-25 14:25:37 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-25 14:25:37 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-25 14:25:37 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface rca.restapi.year2.userservice.repository.AddressRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-25 14:25:37 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface rca.restapi.year2.userservice.repository.RefreshTokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-25 14:25:37 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface rca.restapi.year2.userservice.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-25 14:25:37 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 19 ms. Found 0 Redis repository interfaces.
2025-11-25 14:25:37 [main] INFO  o.s.cloud.context.scope.GenericScope - BeanFactory id=f76611ae-b0b0-3638-86c3-de0e9740510f
2025-11-25 14:25:38 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8082 (http)
2025-11-25 14:25:38 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-25 14:25:38 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-11-25 14:25:38 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-25 14:25:38 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 4575 ms
2025-11-25 14:25:38 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-25 14:25:39 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@220f6a3c
2025-11-25 14:25:39 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-25 14:25:39 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5432/userdb (PostgreSQL 17.0)
2025-11-25 14:25:39 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 1 migration (execution time 00:00.036s)
2025-11-25 14:25:39 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 1
2025-11-25 14:25:39 [main] ERROR o.f.core.internal.command.DbMigrate - Schema "public" has version 1, but no migration could be resolved in the configured locations !
2025-11-25 14:25:39 [main] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-11-25 14:25:39 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-25 14:25:40 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.15.Final
2025-11-25 14:25:40 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-25 14:25:41 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-25 14:25:41 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-25 14:25:43 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-25 14:25:43 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-25 14:25:44 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-25 14:25:44 [main] DEBUG r.r.y.u.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-25 14:25:45 [main] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-11-25 14:25:45 [main] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-11-25 14:25:45 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-25 14:25:48 [main] INFO  o.s.cloud.commons.util.InetUtils - Cannot determine local hostname
2025-11-25 14:25:48 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-11-25 14:25:48 [main] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-25 14:25:51 [main] INFO  o.s.cloud.commons.util.InetUtils - Cannot determine local hostname
2025-11-25 14:25:51 [main] INFO  o.s.c.n.e.c.DiscoveryClientOptionalArgsConfiguration - Eureka HTTP Client uses RestTemplate.
2025-11-25 14:25:51 [main] WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-11-25 14:25:51 [main] INFO  o.s.c.n.eureka.InstanceInfoFactory - Setting initial instance status as: STARTING
2025-11-25 14:25:51 [main] INFO  c.netflix.discovery.DiscoveryClient - Initializing Eureka in region us-east-1
2025-11-25 14:25:52 [main] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-11-25 14:25:52 [main] INFO  c.netflix.discovery.DiscoveryClient - Disable delta property : false
2025-11-25 14:25:52 [main] INFO  c.netflix.discovery.DiscoveryClient - Single vip registry refresh property : null
2025-11-25 14:25:52 [main] INFO  c.netflix.discovery.DiscoveryClient - Force full registry fetch : false
2025-11-25 14:25:52 [main] INFO  c.netflix.discovery.DiscoveryClient - Application is null : false
2025-11-25 14:25:52 [main] INFO  c.netflix.discovery.DiscoveryClient - Registered Applications size is zero : true
2025-11-25 14:25:52 [main] INFO  c.netflix.discovery.DiscoveryClient - Application version is -1: true
2025-11-25 14:25:52 [main] INFO  c.netflix.discovery.DiscoveryClient - Getting all instance registry info from the eureka server
2025-11-25 14:25:52 [main] INFO  c.netflix.discovery.DiscoveryClient - The response status is 200
2025-11-25 14:25:52 [main] INFO  c.netflix.discovery.DiscoveryClient - Starting heartbeat executor: renew interval is: 30
2025-11-25 14:25:52 [main] INFO  c.n.discovery.InstanceInfoReplicator - InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-11-25 14:25:52 [main] INFO  c.netflix.discovery.DiscoveryClient - Discovery Client initialized at timestamp 1764073552887 with initial instances count: 3
2025-11-25 14:25:52 [main] INFO  o.s.c.n.e.s.EurekaServiceRegistry - Registering application USER-SERVICE with eureka with status UP
2025-11-25 14:25:52 [main] INFO  c.netflix.discovery.DiscoveryClient - Saw local status change event StatusChangeEvent [timestamp=1764073552955, current=UP, previous=STARTING]
2025-11-25 14:25:52 [DiscoveryClient-InstanceInfoReplicator-%d] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_USER-SERVICE/localhost:user-service:8082: registering service...
2025-11-25 14:25:53 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8082 (http) with context path '/'
2025-11-25 14:25:53 [main] INFO  o.s.c.n.e.s.EurekaAutoServiceRegistration - Updating port to 8082
2025-11-25 14:25:53 [DiscoveryClient-InstanceInfoReplicator-%d] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_USER-SERVICE/localhost:user-service:8082 - registration status: 204
2025-11-25 14:25:54 [main] INFO  o.s.cloud.commons.util.InetUtils - Cannot determine local hostname
2025-11-25 14:25:54 [main] INFO  r.r.y.u.UserServiceApplication - Started UserServiceApplication in 29.281 seconds (process running for 30.131)
2025-11-25 14:30:52 [AsyncResolver-bootstrap-executor-%d] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-11-25 14:35:52 [AsyncResolver-bootstrap-executor-%d] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-11-25 14:40:52 [AsyncResolver-bootstrap-executor-%d] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-11-25 14:45:52 [AsyncResolver-bootstrap-executor-%d] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-11-25 14:50:10 [http-nio-8082-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-25 14:50:10 [http-nio-8082-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-25 14:50:10 [http-nio-8082-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 228 ms
2025-11-25 14:50:10 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /auth/refresh
2025-11-25 14:50:10 [http-nio-8082-exec-1] DEBUG r.r.y.u.s.JwtAuthenticationFilter - Skipping JWT validation for public endpoint: /auth/refresh
2025-11-25 14:50:10 [http-nio-8082-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-25 14:50:10 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /auth/refresh
2025-11-25 14:50:11 [http-nio-8082-exec-1] INFO  r.r.y.u.c.AuthenticationController - Token refresh request received
2025-11-25 14:50:12 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - select rt1_0.id,rt1_0.created_at,rt1_0.expires_at,rt1_0.revoked,rt1_0.token,rt1_0.user_id from refresh_tokens rt1_0 where rt1_0.token=?
2025-11-25 14:50:12 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_locked_until,u1_0.avatar_url,u1_0.created_at,u1_0.email,u1_0.email_verified,u1_0.failed_login_attempts,u1_0.first_name,u1_0.last_login_at,u1_0.last_name,u1_0.password,u1_0.phone,u1_0.role,u1_0.status,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.id=?
2025-11-25 14:50:12 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_locked_until,u1_0.avatar_url,u1_0.created_at,u1_0.email,u1_0.email_verified,u1_0.failed_login_attempts,u1_0.first_name,u1_0.last_login_at,u1_0.last_name,u1_0.password,u1_0.phone,u1_0.role,u1_0.status,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.email=?
2025-11-25 14:50:12 [http-nio-8082-exec-1] DEBUG r.r.y.u.security.JwtService - Generating access token for user: john@example.com with roles: [USER]
2025-11-25 14:50:13 [http-nio-8082-exec-1] INFO  r.r.y.u.s.AuthenticationService - Token refreshed for user: john@example.com
2025-11-25 14:50:52 [AsyncResolver-bootstrap-executor-%d] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-11-25 14:54:13 [http-nio-8082-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /auth/refresh
2025-11-25 14:54:13 [http-nio-8082-exec-3] DEBUG r.r.y.u.s.JwtAuthenticationFilter - Skipping JWT validation for public endpoint: /auth/refresh
2025-11-25 14:54:13 [http-nio-8082-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-25 14:54:13 [http-nio-8082-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /auth/refresh
2025-11-25 14:54:13 [http-nio-8082-exec-3] INFO  r.r.y.u.c.AuthenticationController - Token refresh request received
2025-11-25 14:54:13 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - select rt1_0.id,rt1_0.created_at,rt1_0.expires_at,rt1_0.revoked,rt1_0.token,rt1_0.user_id from refresh_tokens rt1_0 where rt1_0.token=?
2025-11-25 14:54:13 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_locked_until,u1_0.avatar_url,u1_0.created_at,u1_0.email,u1_0.email_verified,u1_0.failed_login_attempts,u1_0.first_name,u1_0.last_login_at,u1_0.last_name,u1_0.password,u1_0.phone,u1_0.role,u1_0.status,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.id=?
2025-11-25 14:54:14 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_locked_until,u1_0.avatar_url,u1_0.created_at,u1_0.email,u1_0.email_verified,u1_0.failed_login_attempts,u1_0.first_name,u1_0.last_login_at,u1_0.last_name,u1_0.password,u1_0.phone,u1_0.role,u1_0.status,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.email=?
2025-11-25 14:54:14 [http-nio-8082-exec-3] DEBUG r.r.y.u.security.JwtService - Generating access token for user: john@example.com with roles: [USER]
2025-11-25 14:54:14 [http-nio-8082-exec-3] INFO  r.r.y.u.s.AuthenticationService - Token refreshed for user: john@example.com
2025-11-25 14:55:52 [AsyncResolver-bootstrap-executor-%d] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-11-25 15:00:52 [AsyncResolver-bootstrap-executor-%d] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-11-25 15:03:55 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /auth/register
2025-11-25 15:03:55 [http-nio-8082-exec-5] DEBUG r.r.y.u.s.JwtAuthenticationFilter - Skipping JWT validation for public endpoint: /auth/register
2025-11-25 15:03:55 [http-nio-8082-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-25 15:03:55 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /auth/register
2025-11-25 15:03:59 [http-nio-8082-exec-5] INFO  r.r.y.u.c.AuthenticationController - Registration request received for: john@example.com
2025-11-25 15:03:59 [http-nio-8082-exec-5] INFO  r.r.y.u.s.AuthenticationService - Registering new user: john@example.com
2025-11-25 15:04:00 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - select u1_0.id from users u1_0 where u1_0.email=? fetch first ? rows only
2025-11-25 15:04:00 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - select u1_0.id from users u1_0 where u1_0.username=? fetch first ? rows only
2025-11-25 15:04:02 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - insert into users (account_locked_until,avatar_url,created_at,email,email_verified,failed_login_attempts,first_name,last_login_at,last_name,password,phone,role,status,updated_at,username) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)
2025-11-25 15:04:02 [http-nio-8082-exec-5] INFO  r.r.y.u.s.AuthenticationService - User registered successfully: john@example.com
2025-11-25 15:04:02 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_locked_until,u1_0.avatar_url,u1_0.created_at,u1_0.email,u1_0.email_verified,u1_0.failed_login_attempts,u1_0.first_name,u1_0.last_login_at,u1_0.last_name,u1_0.password,u1_0.phone,u1_0.role,u1_0.status,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.email=?
2025-11-25 15:04:02 [http-nio-8082-exec-5] DEBUG r.r.y.u.security.JwtService - Generating access token for user: john@example.com with roles: [USER]
2025-11-25 15:04:02 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - insert into refresh_tokens (created_at,expires_at,revoked,token,user_id) values (?,?,?,?,?)
2025-11-25 15:05:52 [AsyncResolver-bootstrap-executor-%d] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-11-25 15:10:52 [AsyncResolver-bootstrap-executor-%d] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-11-25 15:15:52 [AsyncResolver-bootstrap-executor-%d] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-11-25 15:17:57 [SpringApplicationShutdownHook] INFO  o.s.c.n.e.s.EurekaServiceRegistry - Unregistering application USER-SERVICE with eureka with status DOWN
2025-11-25 15:17:57 [SpringApplicationShutdownHook] INFO  c.netflix.discovery.DiscoveryClient - Saw local status change event StatusChangeEvent [timestamp=1764076677862, current=DOWN, previous=UP]
2025-11-25 15:17:57 [DiscoveryClient-InstanceInfoReplicator-%d] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_USER-SERVICE/localhost:user-service:8082: registering service...
2025-11-25 15:17:58 [DiscoveryClient-InstanceInfoReplicator-%d] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_USER-SERVICE/localhost:user-service:8082 - registration status: 204
2025-11-25 15:17:58 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-11-25 15:17:58 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-11-25 15:17:59 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-25 15:17:59 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-25 15:17:59 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-25 15:17:59 [SpringApplicationShutdownHook] INFO  c.netflix.discovery.DiscoveryClient - Shutting down DiscoveryClient ...
2025-11-25 15:18:02 [SpringApplicationShutdownHook] INFO  c.netflix.discovery.DiscoveryClient - Unregistering ...
2025-11-25 15:18:02 [DiscoveryClient-%d] WARN  c.n.discovery.TimedSupervisorTask - task supervisor shutting down, can't accept the task
2025-11-25 15:18:02 [SpringApplicationShutdownHook] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_USER-SERVICE/localhost:user-service:8082 - deregister  status: 200
2025-11-25 15:18:02 [SpringApplicationShutdownHook] INFO  c.netflix.discovery.DiscoveryClient - Completed shut down of DiscoveryClient
2025-11-25 15:18:34 [main] INFO  r.r.y.u.UserServiceApplication - Starting UserServiceApplication using Java 22.0.2 with PID 3392 (O:\Projects\Java\Inventory-Manager\user-service\target\classes started by 21HD in O:\Projects\Java\Inventory-Manager\user-service)
2025-11-25 15:18:34 [main] DEBUG r.r.y.u.UserServiceApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-11-25 15:18:34 [main] INFO  r.r.y.u.UserServiceApplication - The following 1 profile is active: "dev"
2025-11-25 15:18:34 [main] INFO  o.s.c.c.c.ConfigServerConfigDataLoader - Fetching config from server at : http://localhost:8888
2025-11-25 15:18:34 [main] INFO  o.s.c.c.c.ConfigServerConfigDataLoader - Located environment: name=user-service, profiles=[default], label=null, version=76650a822f01044d5af5729fc2414b7094afb23b, state=
2025-11-25 15:18:34 [main] INFO  o.s.c.c.c.ConfigServerConfigDataLoader - Fetching config from server at : http://localhost:8888
2025-11-25 15:18:34 [main] INFO  o.s.c.c.c.ConfigServerConfigDataLoader - Located environment: name=user-service, profiles=[dev], label=null, version=76650a822f01044d5af5729fc2414b7094afb23b, state=
2025-11-25 15:18:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-25 15:18:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-25 15:18:36 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 263 ms. Found 3 JPA repository interfaces.
2025-11-25 15:18:36 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-25 15:18:36 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-25 15:18:36 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface rca.restapi.year2.userservice.repository.AddressRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-25 15:18:36 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface rca.restapi.year2.userservice.repository.RefreshTokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-25 15:18:36 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface rca.restapi.year2.userservice.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-25 15:18:36 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 25 ms. Found 0 Redis repository interfaces.
2025-11-25 15:18:36 [main] INFO  o.s.cloud.context.scope.GenericScope - BeanFactory id=f76611ae-b0b0-3638-86c3-de0e9740510f
2025-11-25 15:18:37 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8082 (http)
2025-11-25 15:18:37 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-25 15:18:37 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-11-25 15:18:37 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-25 15:18:37 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3694 ms
2025-11-25 15:18:38 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-25 15:18:39 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3fb1948c
2025-11-25 15:18:39 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-25 15:18:39 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5432/userdb (PostgreSQL 17.0)
2025-11-25 15:18:39 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 1 migration (execution time 00:00.109s)
2025-11-25 15:18:39 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 1
2025-11-25 15:18:39 [main] ERROR o.f.core.internal.command.DbMigrate - Schema "public" has version 1, but no migration could be resolved in the configured locations !
2025-11-25 15:18:39 [main] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-11-25 15:18:39 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-25 15:18:39 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.15.Final
2025-11-25 15:18:39 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-25 15:18:40 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-25 15:18:40 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-25 15:18:42 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-25 15:18:42 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-25 15:18:43 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-25 15:18:44 [main] DEBUG r.r.y.u.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-25 15:18:44 [main] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-11-25 15:18:44 [main] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-11-25 15:18:44 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-25 15:18:46 [main] INFO  o.s.cloud.commons.util.InetUtils - Cannot determine local hostname
2025-11-25 15:18:46 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-11-25 15:18:46 [main] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-25 15:18:48 [main] INFO  o.s.cloud.commons.util.InetUtils - Cannot determine local hostname
2025-11-25 15:18:48 [main] INFO  o.s.c.n.e.c.DiscoveryClientOptionalArgsConfiguration - Eureka HTTP Client uses RestTemplate.
2025-11-25 15:18:48 [main] WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-11-25 15:18:48 [main] INFO  o.s.c.n.eureka.InstanceInfoFactory - Setting initial instance status as: STARTING
2025-11-25 15:18:49 [main] INFO  c.netflix.discovery.DiscoveryClient - Initializing Eureka in region us-east-1
2025-11-25 15:18:49 [main] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-11-25 15:18:49 [main] INFO  c.netflix.discovery.DiscoveryClient - Disable delta property : false
2025-11-25 15:18:49 [main] INFO  c.netflix.discovery.DiscoveryClient - Single vip registry refresh property : null
2025-11-25 15:18:49 [main] INFO  c.netflix.discovery.DiscoveryClient - Force full registry fetch : false
2025-11-25 15:18:49 [main] INFO  c.netflix.discovery.DiscoveryClient - Application is null : false
2025-11-25 15:18:49 [main] INFO  c.netflix.discovery.DiscoveryClient - Registered Applications size is zero : true
2025-11-25 15:18:49 [main] INFO  c.netflix.discovery.DiscoveryClient - Application version is -1: true
2025-11-25 15:18:49 [main] INFO  c.netflix.discovery.DiscoveryClient - Getting all instance registry info from the eureka server
2025-11-25 15:18:49 [main] INFO  c.netflix.discovery.DiscoveryClient - The response status is 200
2025-11-25 15:18:49 [main] INFO  c.netflix.discovery.DiscoveryClient - Starting heartbeat executor: renew interval is: 30
2025-11-25 15:18:49 [main] INFO  c.n.discovery.InstanceInfoReplicator - InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-11-25 15:18:49 [main] INFO  c.netflix.discovery.DiscoveryClient - Discovery Client initialized at timestamp 1764076729361 with initial instances count: 2
2025-11-25 15:18:49 [main] INFO  o.s.c.n.e.s.EurekaServiceRegistry - Registering application USER-SERVICE with eureka with status UP
2025-11-25 15:18:49 [main] INFO  c.netflix.discovery.DiscoveryClient - Saw local status change event StatusChangeEvent [timestamp=1764076729371, current=UP, previous=STARTING]
2025-11-25 15:18:49 [DiscoveryClient-InstanceInfoReplicator-%d] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_USER-SERVICE/localhost:user-service:8082: registering service...
2025-11-25 15:18:49 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8082 (http) with context path '/'
2025-11-25 15:18:49 [main] INFO  o.s.c.n.e.s.EurekaAutoServiceRegistration - Updating port to 8082
2025-11-25 15:18:49 [DiscoveryClient-InstanceInfoReplicator-%d] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_USER-SERVICE/localhost:user-service:8082 - registration status: 204
2025-11-25 15:18:50 [main] INFO  o.s.cloud.commons.util.InetUtils - Cannot determine local hostname
2025-11-25 15:18:50 [main] INFO  r.r.y.u.UserServiceApplication - Started UserServiceApplication in 32.254 seconds (process running for 33.463)
2025-11-25 15:20:56 [http-nio-8082-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-25 15:20:56 [http-nio-8082-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-25 15:20:56 [http-nio-8082-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 43 ms
2025-11-25 15:20:56 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /auth/register
2025-11-25 15:20:56 [http-nio-8082-exec-1] DEBUG r.r.y.u.s.JwtAuthenticationFilter - Skipping JWT validation for public endpoint: /auth/register
2025-11-25 15:20:56 [http-nio-8082-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-25 15:20:57 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /auth/register
2025-11-25 15:20:57 [http-nio-8082-exec-1] INFO  r.r.y.u.c.AuthenticationController - Registration request received for: john@example.com
2025-11-25 15:20:57 [http-nio-8082-exec-1] INFO  r.r.y.u.s.AuthenticationService - Registering new user: john@example.com
2025-11-25 15:20:57 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - select u1_0.id from users u1_0 where u1_0.email=? fetch first ? rows only
2025-11-25 15:20:57 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - select u1_0.id from users u1_0 where u1_0.username=? fetch first ? rows only
2025-11-25 15:20:58 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - insert into users (account_locked_until,avatar_url,created_at,email,email_verified,failed_login_attempts,first_name,last_login_at,last_name,password,phone,role,status,updated_at,username) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)
2025-11-25 15:20:58 [http-nio-8082-exec-1] INFO  r.r.y.u.s.AuthenticationService - User registered successfully: john@example.com
2025-11-25 15:20:59 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_locked_until,u1_0.avatar_url,u1_0.created_at,u1_0.email,u1_0.email_verified,u1_0.failed_login_attempts,u1_0.first_name,u1_0.last_login_at,u1_0.last_name,u1_0.password,u1_0.phone,u1_0.role,u1_0.status,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.email=?
2025-11-25 15:20:59 [http-nio-8082-exec-1] DEBUG r.r.y.u.security.JwtService - Generating access token for user: john@example.com with roles: [USER]
2025-11-25 15:20:59 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - insert into refresh_tokens (created_at,expires_at,revoked,token,user_id) values (?,?,?,?,?)
2025-11-25 15:21:18 [http-nio-8082-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /users/me
2025-11-25 15:21:18 [http-nio-8082-exec-2] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_locked_until,u1_0.avatar_url,u1_0.created_at,u1_0.email,u1_0.email_verified,u1_0.failed_login_attempts,u1_0.first_name,u1_0.last_login_at,u1_0.last_name,u1_0.password,u1_0.phone,u1_0.role,u1_0.status,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.email=?
2025-11-25 15:21:18 [http-nio-8082-exec-2] DEBUG r.r.y.u.security.JwtService - Token validated successfully for user: john@example.com
2025-11-25 15:21:18 [http-nio-8082-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /users/me
2025-11-25 15:21:18 [http-nio-8082-exec-2] INFO  r.r.y.u.controller.UserController - Fetching current user profile: john@example.com
2025-11-25 15:21:20 [http-nio-8082-exec-2] INFO  r.r.y.u.service.UserService - Fetching user by email: john@example.com
2025-11-25 15:21:20 [http-nio-8082-exec-2] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_locked_until,u1_0.avatar_url,u1_0.created_at,u1_0.email,u1_0.email_verified,u1_0.failed_login_attempts,u1_0.first_name,u1_0.last_login_at,u1_0.last_name,u1_0.password,u1_0.phone,u1_0.role,u1_0.status,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.email=?
2025-11-25 15:21:20 [http-nio-8082-exec-2] DEBUG org.hibernate.SQL - select a1_0.user_id,a1_0.id,a1_0.city,a1_0.country,a1_0.created_at,a1_0.is_default,a1_0.label,a1_0.postal_code,a1_0.state,a1_0.street_address from addresses a1_0 where a1_0.user_id=?
2025-11-25 15:22:25 [http-nio-8082-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /users/me
2025-11-25 15:22:25 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_locked_until,u1_0.avatar_url,u1_0.created_at,u1_0.email,u1_0.email_verified,u1_0.failed_login_attempts,u1_0.first_name,u1_0.last_login_at,u1_0.last_name,u1_0.password,u1_0.phone,u1_0.role,u1_0.status,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.email=?
2025-11-25 15:22:25 [http-nio-8082-exec-4] DEBUG r.r.y.u.security.JwtService - Token validated successfully for user: john@example.com
2025-11-25 15:22:25 [http-nio-8082-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /users/me
2025-11-25 15:22:25 [http-nio-8082-exec-4] INFO  r.r.y.u.controller.UserController - Fetching current user profile: john@example.com
2025-11-25 15:22:25 [http-nio-8082-exec-4] ERROR r.r.y.u.e.GlobalExceptionHandler - Unexpected error: 
java.lang.ClassCastException: class java.util.LinkedHashMap cannot be cast to class rca.restapi.year2.userservice.dto.UserDto (java.util.LinkedHashMap is in module java.base of loader 'bootstrap'; rca.restapi.year2.userservice.dto.UserDto is in unnamed module of loader 'app')
	at rca.restapi.year2.userservice.service.UserService$$SpringCGLIB$$0.getUserByEmail(<generated>)
	at rca.restapi.year2.userservice.controller.UserController.getCurrentUser(UserController.java:29)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at rca.restapi.year2.userservice.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:87)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1570)
2025-11-25 15:22:46 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /users/me
2025-11-25 15:22:46 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_locked_until,u1_0.avatar_url,u1_0.created_at,u1_0.email,u1_0.email_verified,u1_0.failed_login_attempts,u1_0.first_name,u1_0.last_login_at,u1_0.last_name,u1_0.password,u1_0.phone,u1_0.role,u1_0.status,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.email=?
2025-11-25 15:22:46 [http-nio-8082-exec-5] DEBUG r.r.y.u.security.JwtService - Token validated successfully for user: john@example.com
2025-11-25 15:22:46 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /users/me
2025-11-25 15:22:46 [http-nio-8082-exec-5] INFO  r.r.y.u.controller.UserController - Fetching current user profile: john@example.com
2025-11-25 15:22:46 [http-nio-8082-exec-5] ERROR r.r.y.u.e.GlobalExceptionHandler - Unexpected error: 
java.lang.ClassCastException: class java.util.LinkedHashMap cannot be cast to class rca.restapi.year2.userservice.dto.UserDto (java.util.LinkedHashMap is in module java.base of loader 'bootstrap'; rca.restapi.year2.userservice.dto.UserDto is in unnamed module of loader 'app')
	at rca.restapi.year2.userservice.service.UserService$$SpringCGLIB$$0.getUserByEmail(<generated>)
	at rca.restapi.year2.userservice.controller.UserController.getCurrentUser(UserController.java:29)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at rca.restapi.year2.userservice.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:87)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1570)
2025-11-25 15:23:49 [AsyncResolver-bootstrap-executor-%d] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-11-25 15:28:49 [AsyncResolver-bootstrap-executor-%d] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-11-25 15:33:49 [AsyncResolver-bootstrap-executor-%d] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-11-25 15:38:50 [AsyncResolver-bootstrap-executor-%d] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-11-25 15:39:11 [http-nio-8082-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /auth/login
2025-11-25 15:39:11 [http-nio-8082-exec-6] DEBUG r.r.y.u.s.JwtAuthenticationFilter - Skipping JWT validation for public endpoint: /auth/login
2025-11-25 15:39:11 [http-nio-8082-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-25 15:39:11 [http-nio-8082-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /auth/login
2025-11-25 15:39:11 [http-nio-8082-exec-6] INFO  r.r.y.u.c.AuthenticationController - Login request received for: john@example.com
2025-11-25 15:39:11 [http-nio-8082-exec-6] INFO  r.r.y.u.s.AuthenticationService - Login attempt for user: john@example.com
2025-11-25 15:39:12 [http-nio-8082-exec-6] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_locked_until,u1_0.avatar_url,u1_0.created_at,u1_0.email,u1_0.email_verified,u1_0.failed_login_attempts,u1_0.first_name,u1_0.last_login_at,u1_0.last_name,u1_0.password,u1_0.phone,u1_0.role,u1_0.status,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.email=?
2025-11-25 15:39:13 [http-nio-8082-exec-6] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_locked_until,u1_0.avatar_url,u1_0.created_at,u1_0.email,u1_0.email_verified,u1_0.failed_login_attempts,u1_0.first_name,u1_0.last_login_at,u1_0.last_name,u1_0.password,u1_0.phone,u1_0.role,u1_0.status,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.email=?
2025-11-25 15:39:14 [http-nio-8082-exec-6] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-11-25 15:39:14 [http-nio-8082-exec-6] DEBUG org.hibernate.SQL - update users set account_locked_until=?,avatar_url=?,email=?,email_verified=?,failed_login_attempts=?,first_name=?,last_login_at=?,last_name=?,password=?,phone=?,role=?,status=?,updated_at=?,username=? where id=?
2025-11-25 15:39:14 [http-nio-8082-exec-6] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_locked_until,u1_0.avatar_url,u1_0.created_at,u1_0.email,u1_0.email_verified,u1_0.failed_login_attempts,u1_0.first_name,u1_0.last_login_at,u1_0.last_name,u1_0.password,u1_0.phone,u1_0.role,u1_0.status,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.email=?
2025-11-25 15:39:14 [http-nio-8082-exec-6] DEBUG r.r.y.u.security.JwtService - Generating access token for user: john@example.com with roles: [USER]
2025-11-25 15:39:15 [http-nio-8082-exec-6] DEBUG org.hibernate.SQL - delete from refresh_tokens rt1_0 where rt1_0.user_id=?
2025-11-25 15:39:15 [http-nio-8082-exec-6] DEBUG org.hibernate.SQL - insert into refresh_tokens (created_at,expires_at,revoked,token,user_id) values (?,?,?,?,?)
2025-11-25 15:39:15 [http-nio-8082-exec-6] INFO  r.r.y.u.s.AuthenticationService - User logged in successfully: john@example.com
2025-11-25 15:39:46 [http-nio-8082-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /users/me
2025-11-25 15:39:46 [http-nio-8082-exec-7] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_locked_until,u1_0.avatar_url,u1_0.created_at,u1_0.email,u1_0.email_verified,u1_0.failed_login_attempts,u1_0.first_name,u1_0.last_login_at,u1_0.last_name,u1_0.password,u1_0.phone,u1_0.role,u1_0.status,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.email=?
2025-11-25 15:39:46 [http-nio-8082-exec-7] DEBUG r.r.y.u.security.JwtService - Token validated successfully for user: john@example.com
2025-11-25 15:39:46 [http-nio-8082-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /users/me
2025-11-25 15:39:46 [http-nio-8082-exec-7] INFO  r.r.y.u.controller.UserController - Fetching current user profile: john@example.com
2025-11-25 15:39:46 [http-nio-8082-exec-7] ERROR r.r.y.u.e.GlobalExceptionHandler - Unexpected error: 
java.lang.ClassCastException: class java.util.LinkedHashMap cannot be cast to class rca.restapi.year2.userservice.dto.UserDto (java.util.LinkedHashMap is in module java.base of loader 'bootstrap'; rca.restapi.year2.userservice.dto.UserDto is in unnamed module of loader 'app')
	at rca.restapi.year2.userservice.service.UserService$$SpringCGLIB$$0.getUserByEmail(<generated>)
	at rca.restapi.year2.userservice.controller.UserController.getCurrentUser(UserController.java:29)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at rca.restapi.year2.userservice.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:87)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1570)
2025-11-25 15:43:50 [AsyncResolver-bootstrap-executor-%d] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-11-25 15:48:50 [AsyncResolver-bootstrap-executor-%d] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-11-25 15:53:51 [AsyncResolver-bootstrap-executor-%d] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-11-25 15:56:14 [SpringApplicationShutdownHook] INFO  o.s.c.n.e.s.EurekaServiceRegistry - Unregistering application USER-SERVICE with eureka with status DOWN
2025-11-25 15:56:15 [SpringApplicationShutdownHook] INFO  c.netflix.discovery.DiscoveryClient - Saw local status change event StatusChangeEvent [timestamp=1764078975014, current=DOWN, previous=UP]
2025-11-25 15:56:15 [DiscoveryClient-InstanceInfoReplicator-%d] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_USER-SERVICE/localhost:user-service:8082: registering service...
2025-11-25 15:56:15 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-11-25 15:56:15 [DiscoveryClient-InstanceInfoReplicator-%d] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_USER-SERVICE/localhost:user-service:8082 - registration status: 204
2025-11-25 15:56:15 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-11-25 15:56:16 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-25 15:56:16 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-25 15:56:16 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-25 15:56:16 [SpringApplicationShutdownHook] INFO  c.netflix.discovery.DiscoveryClient - Shutting down DiscoveryClient ...
2025-11-25 15:56:19 [SpringApplicationShutdownHook] INFO  c.netflix.discovery.DiscoveryClient - Unregistering ...
2025-11-25 15:56:19 [SpringApplicationShutdownHook] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_USER-SERVICE/localhost:user-service:8082 - deregister  status: 200
2025-11-25 15:56:19 [SpringApplicationShutdownHook] INFO  c.netflix.discovery.DiscoveryClient - Completed shut down of DiscoveryClient
2025-11-25 15:56:49 [main] INFO  r.r.y.u.UserServiceApplication - Starting UserServiceApplication using Java 22.0.2 with PID 19620 (O:\Projects\Java\Inventory-Manager\user-service\target\classes started by 21HD in O:\Projects\Java\Inventory-Manager\user-service)
2025-11-25 15:56:49 [main] DEBUG r.r.y.u.UserServiceApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-11-25 15:56:49 [main] INFO  r.r.y.u.UserServiceApplication - The following 1 profile is active: "dev"
2025-11-25 15:56:49 [main] INFO  o.s.c.c.c.ConfigServerConfigDataLoader - Fetching config from server at : http://localhost:8888
2025-11-25 15:56:49 [main] INFO  o.s.c.c.c.ConfigServerConfigDataLoader - Located environment: name=user-service, profiles=[default], label=null, version=76650a822f01044d5af5729fc2414b7094afb23b, state=
2025-11-25 15:56:49 [main] INFO  o.s.c.c.c.ConfigServerConfigDataLoader - Fetching config from server at : http://localhost:8888
2025-11-25 15:56:49 [main] INFO  o.s.c.c.c.ConfigServerConfigDataLoader - Located environment: name=user-service, profiles=[dev], label=null, version=76650a822f01044d5af5729fc2414b7094afb23b, state=
2025-11-25 15:56:51 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-25 15:56:51 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-25 15:56:52 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 453 ms. Found 3 JPA repository interfaces.
2025-11-25 15:56:52 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-25 15:56:52 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-25 15:56:52 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface rca.restapi.year2.userservice.repository.AddressRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-25 15:56:52 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface rca.restapi.year2.userservice.repository.RefreshTokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-25 15:56:52 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface rca.restapi.year2.userservice.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-25 15:56:52 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 40 ms. Found 0 Redis repository interfaces.
2025-11-25 15:56:52 [main] INFO  o.s.cloud.context.scope.GenericScope - BeanFactory id=4e5ce9a4-f33d-3a60-98f0-194f368e4b2e
2025-11-25 15:56:53 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8082 (http)
2025-11-25 15:56:53 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-25 15:56:53 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-11-25 15:56:54 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-25 15:56:54 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 4503 ms
2025-11-25 15:56:54 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-25 15:56:54 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@2dfd157b
2025-11-25 15:56:54 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-25 15:56:55 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5432/userdb (PostgreSQL 17.0)
2025-11-25 15:56:55 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 1 migration (execution time 00:00.058s)
2025-11-25 15:56:55 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 1
2025-11-25 15:56:55 [main] ERROR o.f.core.internal.command.DbMigrate - Schema "public" has version 1, but no migration could be resolved in the configured locations !
2025-11-25 15:56:55 [main] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-11-25 15:56:55 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-25 15:56:55 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.15.Final
2025-11-25 15:56:55 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-25 15:56:56 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-25 15:56:56 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-25 15:56:59 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-25 15:57:00 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-25 15:57:02 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-25 15:57:03 [main] DEBUG r.r.y.u.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-25 15:57:04 [main] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-11-25 15:57:04 [main] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-11-25 15:57:06 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-25 15:57:08 [main] INFO  o.s.cloud.commons.util.InetUtils - Cannot determine local hostname
2025-11-25 15:57:08 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-11-25 15:57:09 [main] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-25 15:57:11 [main] INFO  o.s.cloud.commons.util.InetUtils - Cannot determine local hostname
2025-11-25 15:57:12 [main] INFO  o.s.c.n.e.c.DiscoveryClientOptionalArgsConfiguration - Eureka HTTP Client uses RestTemplate.
2025-11-25 15:57:12 [main] WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-11-25 15:57:12 [main] INFO  o.s.c.n.eureka.InstanceInfoFactory - Setting initial instance status as: STARTING
2025-11-25 15:57:12 [main] INFO  c.netflix.discovery.DiscoveryClient - Initializing Eureka in region us-east-1
2025-11-25 15:57:12 [main] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-11-25 15:57:12 [main] INFO  c.netflix.discovery.DiscoveryClient - Disable delta property : false
2025-11-25 15:57:12 [main] INFO  c.netflix.discovery.DiscoveryClient - Single vip registry refresh property : null
2025-11-25 15:57:12 [main] INFO  c.netflix.discovery.DiscoveryClient - Force full registry fetch : false
2025-11-25 15:57:12 [main] INFO  c.netflix.discovery.DiscoveryClient - Application is null : false
2025-11-25 15:57:12 [main] INFO  c.netflix.discovery.DiscoveryClient - Registered Applications size is zero : true
2025-11-25 15:57:12 [main] INFO  c.netflix.discovery.DiscoveryClient - Application version is -1: true
2025-11-25 15:57:12 [main] INFO  c.netflix.discovery.DiscoveryClient - Getting all instance registry info from the eureka server
2025-11-25 15:57:13 [main] INFO  c.netflix.discovery.DiscoveryClient - The response status is 200
2025-11-25 15:57:13 [main] INFO  c.netflix.discovery.DiscoveryClient - Starting heartbeat executor: renew interval is: 30
2025-11-25 15:57:13 [main] INFO  c.n.discovery.InstanceInfoReplicator - InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-11-25 15:57:13 [main] INFO  c.netflix.discovery.DiscoveryClient - Discovery Client initialized at timestamp 1764079033876 with initial instances count: 2
2025-11-25 15:57:13 [main] INFO  o.s.c.n.e.s.EurekaServiceRegistry - Registering application USER-SERVICE with eureka with status UP
2025-11-25 15:57:13 [main] INFO  c.netflix.discovery.DiscoveryClient - Saw local status change event StatusChangeEvent [timestamp=1764079033931, current=UP, previous=STARTING]
2025-11-25 15:57:13 [DiscoveryClient-InstanceInfoReplicator-%d] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_USER-SERVICE/localhost:user-service:8082: registering service...
2025-11-25 15:57:14 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8082 (http) with context path '/'
2025-11-25 15:57:14 [main] INFO  o.s.c.n.e.s.EurekaAutoServiceRegistration - Updating port to 8082
2025-11-25 15:57:14 [DiscoveryClient-InstanceInfoReplicator-%d] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_USER-SERVICE/localhost:user-service:8082 - registration status: 204
2025-11-25 15:57:15 [main] INFO  o.s.cloud.commons.util.InetUtils - Cannot determine local hostname
2025-11-25 15:57:15 [main] INFO  r.r.y.u.UserServiceApplication - Started UserServiceApplication in 42.316 seconds (process running for 43.311)
2025-11-25 15:59:03 [http-nio-8082-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-25 15:59:03 [http-nio-8082-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-25 15:59:03 [http-nio-8082-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 105 ms
2025-11-25 15:59:03 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /auth/login
2025-11-25 15:59:03 [http-nio-8082-exec-1] DEBUG r.r.y.u.s.JwtAuthenticationFilter - Skipping JWT validation for public endpoint: /auth/login
2025-11-25 15:59:03 [http-nio-8082-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-25 15:59:03 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /auth/login
2025-11-25 15:59:03 [http-nio-8082-exec-1] ERROR r.r.y.u.e.GlobalExceptionHandler - Unexpected error: 
org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Could not resolve subtype of [simple type, class rca.restapi.year2.userservice.dto.requests.LoginRequest]: missing type id property '@class'
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.readJavaType(AbstractJackson2HttpMessageConverter.java:408)
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.read(AbstractJackson2HttpMessageConverter.java:356)
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodArgumentResolver.readWithMessageConverters(AbstractMessageConverterMethodArgumentResolver.java:204)
	at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.readWithMessageConverters(RequestResponseBodyMethodProcessor.java:176)
	at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.resolveArgument(RequestResponseBodyMethodProcessor.java:150)
	at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:122)
	at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:227)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:181)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at rca.restapi.year2.userservice.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:53)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1570)
Caused by: com.fasterxml.jackson.databind.exc.InvalidTypeIdException: Could not resolve subtype of [simple type, class rca.restapi.year2.userservice.dto.requests.LoginRequest]: missing type id property '@class'
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 4, column: 1]
	at com.fasterxml.jackson.databind.exc.InvalidTypeIdException.from(InvalidTypeIdException.java:43)
	at com.fasterxml.jackson.databind.DeserializationContext.missingTypeIdException(DeserializationContext.java:2078)
	at com.fasterxml.jackson.databind.DeserializationContext.handleMissingTypeId(DeserializationContext.java:1649)
	at com.fasterxml.jackson.databind.jsontype.impl.TypeDeserializerBase._handleMissingTypeId(TypeDeserializerBase.java:308)
	at com.fasterxml.jackson.databind.jsontype.impl.AsPropertyTypeDeserializer._deserializeTypedUsingDefaultImpl(AsPropertyTypeDeserializer.java:210)
	at com.fasterxml.jackson.databind.jsontype.impl.AsPropertyTypeDeserializer.deserializeTypedFromObject(AsPropertyTypeDeserializer.java:144)
	at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.deserializeWithType(BeanDeserializerBase.java:1384)
	at com.fasterxml.jackson.databind.deser.impl.TypeWrappedDeserializer.deserialize(TypeWrappedDeserializer.java:74)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectReader._bindAndClose(ObjectReader.java:2130)
	at com.fasterxml.jackson.databind.ObjectReader.readValue(ObjectReader.java:1500)
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.readJavaType(AbstractJackson2HttpMessageConverter.java:397)
	... 139 common frames omitted
2025-11-25 16:02:12 [AsyncResolver-bootstrap-executor-%d] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-11-25 16:02:14 [SpringApplicationShutdownHook] INFO  o.s.c.n.e.s.EurekaServiceRegistry - Unregistering application USER-SERVICE with eureka with status DOWN
2025-11-25 16:02:14 [SpringApplicationShutdownHook] INFO  c.netflix.discovery.DiscoveryClient - Saw local status change event StatusChangeEvent [timestamp=1764079334993, current=DOWN, previous=UP]
2025-11-25 16:02:14 [DiscoveryClient-InstanceInfoReplicator-%d] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_USER-SERVICE/localhost:user-service:8082: registering service...
2025-11-25 16:02:15 [DiscoveryClient-InstanceInfoReplicator-%d] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_USER-SERVICE/localhost:user-service:8082 - registration status: 204
2025-11-25 16:02:15 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-11-25 16:02:15 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-11-25 16:02:15 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-25 16:02:15 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-25 16:02:15 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-25 16:02:15 [SpringApplicationShutdownHook] INFO  c.netflix.discovery.DiscoveryClient - Shutting down DiscoveryClient ...
2025-11-25 16:02:18 [SpringApplicationShutdownHook] INFO  c.netflix.discovery.DiscoveryClient - Unregistering ...
2025-11-25 16:02:19 [SpringApplicationShutdownHook] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_USER-SERVICE/localhost:user-service:8082 - deregister  status: 200
2025-11-25 16:02:19 [SpringApplicationShutdownHook] INFO  c.netflix.discovery.DiscoveryClient - Completed shut down of DiscoveryClient
2025-11-25 16:02:49 [main] INFO  r.r.y.u.UserServiceApplication - Starting UserServiceApplication using Java 22.0.2 with PID 16192 (O:\Projects\Java\Inventory-Manager\user-service\target\classes started by 21HD in O:\Projects\Java\Inventory-Manager\user-service)
2025-11-25 16:02:49 [main] DEBUG r.r.y.u.UserServiceApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-11-25 16:02:49 [main] INFO  r.r.y.u.UserServiceApplication - The following 1 profile is active: "dev"
2025-11-25 16:02:49 [main] INFO  o.s.c.c.c.ConfigServerConfigDataLoader - Fetching config from server at : http://localhost:8888
2025-11-25 16:02:49 [main] INFO  o.s.c.c.c.ConfigServerConfigDataLoader - Located environment: name=user-service, profiles=[default], label=null, version=76650a822f01044d5af5729fc2414b7094afb23b, state=
2025-11-25 16:02:49 [main] INFO  o.s.c.c.c.ConfigServerConfigDataLoader - Fetching config from server at : http://localhost:8888
2025-11-25 16:02:49 [main] INFO  o.s.c.c.c.ConfigServerConfigDataLoader - Located environment: name=user-service, profiles=[dev], label=null, version=76650a822f01044d5af5729fc2414b7094afb23b, state=
2025-11-25 16:02:51 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-25 16:02:51 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-25 16:02:51 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 268 ms. Found 3 JPA repository interfaces.
2025-11-25 16:02:51 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-25 16:02:51 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-25 16:02:51 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface rca.restapi.year2.userservice.repository.AddressRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-25 16:02:51 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface rca.restapi.year2.userservice.repository.RefreshTokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-25 16:02:51 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface rca.restapi.year2.userservice.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-25 16:02:51 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 14 ms. Found 0 Redis repository interfaces.
2025-11-25 16:02:51 [main] INFO  o.s.cloud.context.scope.GenericScope - BeanFactory id=f76611ae-b0b0-3638-86c3-de0e9740510f
2025-11-25 16:02:52 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8082 (http)
2025-11-25 16:02:52 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-25 16:02:52 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-11-25 16:02:52 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-25 16:02:52 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3235 ms
2025-11-25 16:02:53 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-25 16:02:53 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@4f55a864
2025-11-25 16:02:53 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-25 16:02:53 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5432/userdb (PostgreSQL 17.0)
2025-11-25 16:02:53 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 1 migration (execution time 00:00.046s)
2025-11-25 16:02:53 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 1
2025-11-25 16:02:53 [main] ERROR o.f.core.internal.command.DbMigrate - Schema "public" has version 1, but no migration could be resolved in the configured locations !
2025-11-25 16:02:53 [main] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-11-25 16:02:54 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-25 16:02:54 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.15.Final
2025-11-25 16:02:54 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-25 16:02:54 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-25 16:02:54 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-25 16:02:56 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-25 16:02:57 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-25 16:02:57 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-25 16:02:58 [main] DEBUG r.r.y.u.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-25 16:02:58 [main] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-11-25 16:02:58 [main] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-11-25 16:02:59 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-25 16:03:00 [main] INFO  o.s.cloud.commons.util.InetUtils - Cannot determine local hostname
2025-11-25 16:03:00 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-11-25 16:03:00 [main] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-25 16:03:02 [main] INFO  o.s.cloud.commons.util.InetUtils - Cannot determine local hostname
2025-11-25 16:03:02 [main] INFO  o.s.c.n.e.c.DiscoveryClientOptionalArgsConfiguration - Eureka HTTP Client uses RestTemplate.
2025-11-25 16:03:02 [main] WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-11-25 16:03:03 [main] INFO  o.s.c.n.eureka.InstanceInfoFactory - Setting initial instance status as: STARTING
2025-11-25 16:03:03 [main] INFO  c.netflix.discovery.DiscoveryClient - Initializing Eureka in region us-east-1
2025-11-25 16:03:03 [main] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-11-25 16:03:03 [main] INFO  c.netflix.discovery.DiscoveryClient - Disable delta property : false
2025-11-25 16:03:03 [main] INFO  c.netflix.discovery.DiscoveryClient - Single vip registry refresh property : null
2025-11-25 16:03:03 [main] INFO  c.netflix.discovery.DiscoveryClient - Force full registry fetch : false
2025-11-25 16:03:03 [main] INFO  c.netflix.discovery.DiscoveryClient - Application is null : false
2025-11-25 16:03:03 [main] INFO  c.netflix.discovery.DiscoveryClient - Registered Applications size is zero : true
2025-11-25 16:03:03 [main] INFO  c.netflix.discovery.DiscoveryClient - Application version is -1: true
2025-11-25 16:03:03 [main] INFO  c.netflix.discovery.DiscoveryClient - Getting all instance registry info from the eureka server
2025-11-25 16:03:03 [main] INFO  c.netflix.discovery.DiscoveryClient - The response status is 200
2025-11-25 16:03:03 [main] INFO  c.netflix.discovery.DiscoveryClient - Starting heartbeat executor: renew interval is: 30
2025-11-25 16:03:03 [main] INFO  c.n.discovery.InstanceInfoReplicator - InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-11-25 16:03:03 [main] INFO  c.netflix.discovery.DiscoveryClient - Discovery Client initialized at timestamp 1764079383590 with initial instances count: 2
2025-11-25 16:03:03 [main] INFO  o.s.c.n.e.s.EurekaServiceRegistry - Registering application USER-SERVICE with eureka with status UP
2025-11-25 16:03:03 [main] INFO  c.netflix.discovery.DiscoveryClient - Saw local status change event StatusChangeEvent [timestamp=1764079383612, current=UP, previous=STARTING]
2025-11-25 16:03:03 [DiscoveryClient-InstanceInfoReplicator-%d] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_USER-SERVICE/localhost:user-service:8082: registering service...
2025-11-25 16:03:03 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8082 (http) with context path '/'
2025-11-25 16:03:03 [main] INFO  o.s.c.n.e.s.EurekaAutoServiceRegistration - Updating port to 8082
2025-11-25 16:03:03 [DiscoveryClient-InstanceInfoReplicator-%d] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_USER-SERVICE/localhost:user-service:8082 - registration status: 204
2025-11-25 16:03:04 [main] INFO  o.s.cloud.commons.util.InetUtils - Cannot determine local hostname
2025-11-25 16:03:04 [main] INFO  r.r.y.u.UserServiceApplication - Started UserServiceApplication in 32.208 seconds (process running for 33.023)
2025-11-25 16:03:38 [http-nio-8082-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-25 16:03:38 [http-nio-8082-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-25 16:03:38 [http-nio-8082-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 6 ms
2025-11-25 16:03:38 [http-nio-8082-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /auth/login
2025-11-25 16:03:38 [http-nio-8082-exec-2] DEBUG r.r.y.u.s.JwtAuthenticationFilter - Skipping JWT validation for public endpoint: /auth/login
2025-11-25 16:03:38 [http-nio-8082-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-25 16:03:38 [http-nio-8082-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /auth/login
2025-11-25 16:03:39 [http-nio-8082-exec-2] INFO  r.r.y.u.c.AuthenticationController - Login request received for: john@example.com
2025-11-25 16:03:39 [http-nio-8082-exec-2] INFO  r.r.y.u.s.AuthenticationService - Login attempt for user: john@example.com
2025-11-25 16:03:39 [http-nio-8082-exec-2] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_locked_until,u1_0.avatar_url,u1_0.created_at,u1_0.email,u1_0.email_verified,u1_0.failed_login_attempts,u1_0.first_name,u1_0.last_login_at,u1_0.last_name,u1_0.password,u1_0.phone,u1_0.role,u1_0.status,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.email=?
2025-11-25 16:03:40 [http-nio-8082-exec-2] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_locked_until,u1_0.avatar_url,u1_0.created_at,u1_0.email,u1_0.email_verified,u1_0.failed_login_attempts,u1_0.first_name,u1_0.last_login_at,u1_0.last_name,u1_0.password,u1_0.phone,u1_0.role,u1_0.status,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.email=?
2025-11-25 16:03:41 [http-nio-8082-exec-2] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-11-25 16:03:41 [http-nio-8082-exec-2] DEBUG org.hibernate.SQL - update users set account_locked_until=?,avatar_url=?,email=?,email_verified=?,failed_login_attempts=?,first_name=?,last_login_at=?,last_name=?,password=?,phone=?,role=?,status=?,updated_at=?,username=? where id=?
2025-11-25 16:03:41 [http-nio-8082-exec-2] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_locked_until,u1_0.avatar_url,u1_0.created_at,u1_0.email,u1_0.email_verified,u1_0.failed_login_attempts,u1_0.first_name,u1_0.last_login_at,u1_0.last_name,u1_0.password,u1_0.phone,u1_0.role,u1_0.status,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.email=?
2025-11-25 16:03:41 [http-nio-8082-exec-2] DEBUG r.r.y.u.security.JwtService - Generating access token for user: john@example.com with roles: [USER]
2025-11-25 16:03:42 [http-nio-8082-exec-2] DEBUG org.hibernate.SQL - delete from refresh_tokens rt1_0 where rt1_0.user_id=?
2025-11-25 16:03:42 [http-nio-8082-exec-2] DEBUG org.hibernate.SQL - insert into refresh_tokens (created_at,expires_at,revoked,token,user_id) values (?,?,?,?,?)
2025-11-25 16:03:42 [http-nio-8082-exec-2] INFO  r.r.y.u.s.AuthenticationService - User logged in successfully: john@example.com
2025-11-25 16:04:10 [http-nio-8082-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /users/me
2025-11-25 16:04:10 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_locked_until,u1_0.avatar_url,u1_0.created_at,u1_0.email,u1_0.email_verified,u1_0.failed_login_attempts,u1_0.first_name,u1_0.last_login_at,u1_0.last_name,u1_0.password,u1_0.phone,u1_0.role,u1_0.status,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.email=?
2025-11-25 16:04:10 [http-nio-8082-exec-3] DEBUG r.r.y.u.security.JwtService - Token validated successfully for user: john@example.com
2025-11-25 16:04:10 [http-nio-8082-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /users/me
2025-11-25 16:04:10 [http-nio-8082-exec-3] INFO  r.r.y.u.controller.UserController - Fetching current user profile: john@example.com
2025-11-25 16:04:12 [http-nio-8082-exec-3] INFO  r.r.y.u.service.UserService - Fetching user by email: john@example.com
2025-11-25 16:04:12 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_locked_until,u1_0.avatar_url,u1_0.created_at,u1_0.email,u1_0.email_verified,u1_0.failed_login_attempts,u1_0.first_name,u1_0.last_login_at,u1_0.last_name,u1_0.password,u1_0.phone,u1_0.role,u1_0.status,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.email=?
2025-11-25 16:04:12 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - select a1_0.user_id,a1_0.id,a1_0.city,a1_0.country,a1_0.created_at,a1_0.is_default,a1_0.label,a1_0.postal_code,a1_0.state,a1_0.street_address from addresses a1_0 where a1_0.user_id=?
2025-11-25 16:04:19 [http-nio-8082-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /users/me
2025-11-25 16:04:19 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_locked_until,u1_0.avatar_url,u1_0.created_at,u1_0.email,u1_0.email_verified,u1_0.failed_login_attempts,u1_0.first_name,u1_0.last_login_at,u1_0.last_name,u1_0.password,u1_0.phone,u1_0.role,u1_0.status,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.email=?
2025-11-25 16:04:19 [http-nio-8082-exec-4] DEBUG r.r.y.u.security.JwtService - Token validated successfully for user: john@example.com
2025-11-25 16:04:19 [http-nio-8082-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /users/me
2025-11-25 16:04:19 [http-nio-8082-exec-4] INFO  r.r.y.u.controller.UserController - Fetching current user profile: john@example.com
2025-11-25 16:07:27 [http-nio-8082-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /auth/login
2025-11-25 16:07:27 [http-nio-8082-exec-9] DEBUG r.r.y.u.s.JwtAuthenticationFilter - Skipping JWT validation for public endpoint: /auth/login
2025-11-25 16:07:27 [http-nio-8082-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-25 16:07:27 [http-nio-8082-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /auth/login
2025-11-25 16:07:27 [http-nio-8082-exec-9] INFO  r.r.y.u.c.AuthenticationController - Login request received for: john@example.com
2025-11-25 16:07:27 [http-nio-8082-exec-9] INFO  r.r.y.u.s.AuthenticationService - Login attempt for user: john@example.com
2025-11-25 16:07:27 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_locked_until,u1_0.avatar_url,u1_0.created_at,u1_0.email,u1_0.email_verified,u1_0.failed_login_attempts,u1_0.first_name,u1_0.last_login_at,u1_0.last_name,u1_0.password,u1_0.phone,u1_0.role,u1_0.status,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.email=?
2025-11-25 16:07:28 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_locked_until,u1_0.avatar_url,u1_0.created_at,u1_0.email,u1_0.email_verified,u1_0.failed_login_attempts,u1_0.first_name,u1_0.last_login_at,u1_0.last_name,u1_0.password,u1_0.phone,u1_0.role,u1_0.status,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.email=?
2025-11-25 16:07:29 [http-nio-8082-exec-9] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Failed to authenticate since password does not match stored value
2025-11-25 16:07:29 [http-nio-8082-exec-9] DEBUG o.s.s.authentication.ProviderManager - Authentication failed with provider DaoAuthenticationProvider since Bad credentials
2025-11-25 16:07:29 [http-nio-8082-exec-9] ERROR r.r.y.u.e.GlobalExceptionHandler - Unauthorized: Invalid credentials
2025-11-25 16:08:03 [AsyncResolver-bootstrap-executor-%d] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-11-25 16:13:03 [AsyncResolver-bootstrap-executor-%d] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-11-25 16:13:38 [http-nio-8082-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /auth/login
2025-11-25 16:13:38 [http-nio-8082-exec-8] DEBUG r.r.y.u.s.JwtAuthenticationFilter - Skipping JWT validation for public endpoint: /auth/login
2025-11-25 16:13:38 [http-nio-8082-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-25 16:13:38 [http-nio-8082-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /auth/login
2025-11-25 16:13:38 [http-nio-8082-exec-8] INFO  r.r.y.u.c.AuthenticationController - Login request received for: john@example.com
2025-11-25 16:13:38 [http-nio-8082-exec-8] INFO  r.r.y.u.s.AuthenticationService - Login attempt for user: john@example.com
2025-11-25 16:13:38 [http-nio-8082-exec-8] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_locked_until,u1_0.avatar_url,u1_0.created_at,u1_0.email,u1_0.email_verified,u1_0.failed_login_attempts,u1_0.first_name,u1_0.last_login_at,u1_0.last_name,u1_0.password,u1_0.phone,u1_0.role,u1_0.status,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.email=?
2025-11-25 16:13:38 [http-nio-8082-exec-8] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_locked_until,u1_0.avatar_url,u1_0.created_at,u1_0.email,u1_0.email_verified,u1_0.failed_login_attempts,u1_0.first_name,u1_0.last_login_at,u1_0.last_name,u1_0.password,u1_0.phone,u1_0.role,u1_0.status,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.email=?
2025-11-25 16:13:39 [http-nio-8082-exec-8] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Failed to authenticate since password does not match stored value
2025-11-25 16:13:39 [http-nio-8082-exec-8] DEBUG o.s.s.authentication.ProviderManager - Authentication failed with provider DaoAuthenticationProvider since Bad credentials
2025-11-25 16:13:39 [http-nio-8082-exec-8] ERROR r.r.y.u.e.GlobalExceptionHandler - Unauthorized: Invalid credentials
2025-11-25 16:18:03 [AsyncResolver-bootstrap-executor-%d] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-11-25 16:23:03 [AsyncResolver-bootstrap-executor-%d] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-11-25 16:28:03 [AsyncResolver-bootstrap-executor-%d] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-11-25 16:33:03 [AsyncResolver-bootstrap-executor-%d] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-11-25 16:36:27 [SpringApplicationShutdownHook] INFO  o.s.c.n.e.s.EurekaServiceRegistry - Unregistering application USER-SERVICE with eureka with status DOWN
2025-11-25 16:36:27 [SpringApplicationShutdownHook] INFO  c.netflix.discovery.DiscoveryClient - Saw local status change event StatusChangeEvent [timestamp=1764081387105, current=DOWN, previous=UP]
2025-11-25 16:36:27 [DiscoveryClient-InstanceInfoReplicator-%d] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_USER-SERVICE/localhost:user-service:8082: registering service...
2025-11-25 16:36:27 [DiscoveryClient-InstanceInfoReplicator-%d] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_USER-SERVICE/localhost:user-service:8082 - registration status: 204
2025-11-25 16:36:27 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-11-25 16:36:27 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-11-25 16:36:27 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-25 16:36:28 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-25 16:36:28 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-25 16:36:28 [SpringApplicationShutdownHook] INFO  c.netflix.discovery.DiscoveryClient - Shutting down DiscoveryClient ...
2025-11-25 16:36:31 [SpringApplicationShutdownHook] INFO  c.netflix.discovery.DiscoveryClient - Unregistering ...
2025-11-25 16:36:31 [SpringApplicationShutdownHook] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_USER-SERVICE/localhost:user-service:8082 - deregister  status: 200
2025-11-25 16:36:31 [SpringApplicationShutdownHook] INFO  c.netflix.discovery.DiscoveryClient - Completed shut down of DiscoveryClient
2025-11-25 16:36:51 [main] INFO  r.r.y.u.UserServiceApplication - Starting UserServiceApplication using Java 22.0.2 with PID 400 (O:\Projects\Java\Inventory-Manager\user-service\target\classes started by 21HD in O:\Projects\Java\Inventory-Manager\user-service)
2025-11-25 16:36:51 [main] DEBUG r.r.y.u.UserServiceApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-11-25 16:36:51 [main] INFO  r.r.y.u.UserServiceApplication - The following 1 profile is active: "dev"
2025-11-25 16:36:51 [main] INFO  o.s.c.c.c.ConfigServerConfigDataLoader - Fetching config from server at : http://localhost:8888
2025-11-25 16:36:51 [main] INFO  o.s.c.c.c.ConfigServerConfigDataLoader - Located environment: name=user-service, profiles=[default], label=null, version=76650a822f01044d5af5729fc2414b7094afb23b, state=
2025-11-25 16:36:51 [main] INFO  o.s.c.c.c.ConfigServerConfigDataLoader - Fetching config from server at : http://localhost:8888
2025-11-25 16:36:51 [main] INFO  o.s.c.c.c.ConfigServerConfigDataLoader - Located environment: name=user-service, profiles=[dev], label=null, version=76650a822f01044d5af5729fc2414b7094afb23b, state=
2025-11-25 16:36:52 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-25 16:36:52 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-25 16:36:53 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 213 ms. Found 3 JPA repository interfaces.
2025-11-25 16:36:53 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-25 16:36:53 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-25 16:36:53 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface rca.restapi.year2.userservice.repository.AddressRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-25 16:36:53 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface rca.restapi.year2.userservice.repository.RefreshTokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-25 16:36:53 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface rca.restapi.year2.userservice.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-25 16:36:53 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 19 ms. Found 0 Redis repository interfaces.
2025-11-25 16:36:53 [main] INFO  o.s.cloud.context.scope.GenericScope - BeanFactory id=f76611ae-b0b0-3638-86c3-de0e9740510f
2025-11-25 16:36:54 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8082 (http)
2025-11-25 16:36:54 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-25 16:36:54 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-11-25 16:36:54 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-25 16:36:54 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2742 ms
2025-11-25 16:36:54 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-25 16:36:54 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@65698020
2025-11-25 16:36:54 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-25 16:36:55 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5432/userdb (PostgreSQL 17.0)
2025-11-25 16:36:55 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 1 migration (execution time 00:00.030s)
2025-11-25 16:36:55 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 1
2025-11-25 16:36:55 [main] ERROR o.f.core.internal.command.DbMigrate - Schema "public" has version 1, but no migration could be resolved in the configured locations !
2025-11-25 16:36:55 [main] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-11-25 16:36:55 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-25 16:36:55 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.15.Final
2025-11-25 16:36:55 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-25 16:36:55 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-25 16:36:55 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-25 16:36:57 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-25 16:36:57 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-25 16:36:57 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-25 16:36:58 [main] DEBUG r.r.y.u.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-25 16:36:58 [main] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-11-25 16:36:58 [main] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-11-25 16:36:59 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-25 16:37:00 [main] INFO  o.s.cloud.commons.util.InetUtils - Cannot determine local hostname
2025-11-25 16:37:00 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-11-25 16:37:00 [main] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-25 16:37:02 [main] INFO  o.s.cloud.commons.util.InetUtils - Cannot determine local hostname
2025-11-25 16:37:02 [main] INFO  o.s.c.n.e.c.DiscoveryClientOptionalArgsConfiguration - Eureka HTTP Client uses RestTemplate.
2025-11-25 16:37:02 [main] WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-11-25 16:37:03 [main] INFO  o.s.c.n.eureka.InstanceInfoFactory - Setting initial instance status as: STARTING
2025-11-25 16:37:03 [main] INFO  c.netflix.discovery.DiscoveryClient - Initializing Eureka in region us-east-1
2025-11-25 16:37:03 [main] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-11-25 16:37:03 [main] INFO  c.netflix.discovery.DiscoveryClient - Disable delta property : false
2025-11-25 16:37:03 [main] INFO  c.netflix.discovery.DiscoveryClient - Single vip registry refresh property : null
2025-11-25 16:37:03 [main] INFO  c.netflix.discovery.DiscoveryClient - Force full registry fetch : false
2025-11-25 16:37:03 [main] INFO  c.netflix.discovery.DiscoveryClient - Application is null : false
2025-11-25 16:37:03 [main] INFO  c.netflix.discovery.DiscoveryClient - Registered Applications size is zero : true
2025-11-25 16:37:03 [main] INFO  c.netflix.discovery.DiscoveryClient - Application version is -1: true
2025-11-25 16:37:03 [main] INFO  c.netflix.discovery.DiscoveryClient - Getting all instance registry info from the eureka server
2025-11-25 16:37:04 [main] INFO  c.netflix.discovery.DiscoveryClient - The response status is 200
2025-11-25 16:37:04 [main] INFO  c.netflix.discovery.DiscoveryClient - Starting heartbeat executor: renew interval is: 30
2025-11-25 16:37:04 [main] INFO  c.n.discovery.InstanceInfoReplicator - InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-11-25 16:37:04 [main] INFO  c.netflix.discovery.DiscoveryClient - Discovery Client initialized at timestamp 1764081424705 with initial instances count: 2
2025-11-25 16:37:04 [main] INFO  o.s.c.n.e.s.EurekaServiceRegistry - Registering application USER-SERVICE with eureka with status UP
2025-11-25 16:37:04 [main] INFO  c.netflix.discovery.DiscoveryClient - Saw local status change event StatusChangeEvent [timestamp=1764081424724, current=UP, previous=STARTING]
2025-11-25 16:37:04 [DiscoveryClient-InstanceInfoReplicator-%d] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_USER-SERVICE/localhost:user-service:8082: registering service...
2025-11-25 16:37:04 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8082 (http) with context path '/'
2025-11-25 16:37:05 [main] INFO  o.s.c.n.e.s.EurekaAutoServiceRegistration - Updating port to 8082
2025-11-25 16:37:05 [DiscoveryClient-InstanceInfoReplicator-%d] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_USER-SERVICE/localhost:user-service:8082 - registration status: 204
2025-11-25 16:37:06 [main] INFO  o.s.cloud.commons.util.InetUtils - Cannot determine local hostname
2025-11-25 16:37:06 [main] INFO  r.r.y.u.UserServiceApplication - Started UserServiceApplication in 22.962 seconds (process running for 23.796)
2025-11-25 16:37:50 [http-nio-8082-exec-3] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-25 16:37:50 [http-nio-8082-exec-3] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-25 16:37:50 [http-nio-8082-exec-3] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 34 ms
2025-11-25 16:37:51 [http-nio-8082-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /auth/login
2025-11-25 16:37:51 [http-nio-8082-exec-3] DEBUG r.r.y.u.s.JwtAuthenticationFilter - Skipping JWT validation for public endpoint: /auth/login
2025-11-25 16:37:51 [http-nio-8082-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-25 16:37:51 [http-nio-8082-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /auth/login
2025-11-25 16:37:51 [http-nio-8082-exec-3] INFO  r.r.y.u.c.AuthenticationController - Login request received for: john@example.com
2025-11-25 16:37:52 [http-nio-8082-exec-3] INFO  r.r.y.u.s.AuthenticationService - Login attempt for user: john@example.com
2025-11-25 16:37:52 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_locked_until,u1_0.avatar_url,u1_0.created_at,u1_0.email,u1_0.email_verified,u1_0.failed_login_attempts,u1_0.first_name,u1_0.last_login_at,u1_0.last_name,u1_0.password,u1_0.phone,u1_0.role,u1_0.status,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.email=?
2025-11-25 16:37:53 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_locked_until,u1_0.avatar_url,u1_0.created_at,u1_0.email,u1_0.email_verified,u1_0.failed_login_attempts,u1_0.first_name,u1_0.last_login_at,u1_0.last_name,u1_0.password,u1_0.phone,u1_0.role,u1_0.status,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.email=?
2025-11-25 16:37:54 [http-nio-8082-exec-3] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Failed to authenticate since password does not match stored value
2025-11-25 16:37:54 [http-nio-8082-exec-3] DEBUG o.s.s.authentication.ProviderManager - Authentication failed with provider DaoAuthenticationProvider since Bad credentials
2025-11-25 16:37:54 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - update users set account_locked_until=?,avatar_url=?,email=?,email_verified=?,failed_login_attempts=?,first_name=?,last_login_at=?,last_name=?,password=?,phone=?,role=?,status=?,updated_at=?,username=? where id=?
2025-11-25 16:37:54 [http-nio-8082-exec-3] ERROR r.r.y.u.e.GlobalExceptionHandler - Unauthorized: Invalid credentials
2025-11-25 16:41:32 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /auth/login
2025-11-25 16:41:32 [http-nio-8082-exec-5] DEBUG r.r.y.u.s.JwtAuthenticationFilter - Skipping JWT validation for public endpoint: /auth/login
2025-11-25 16:41:32 [http-nio-8082-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-25 16:41:32 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /auth/login
2025-11-25 16:41:32 [http-nio-8082-exec-5] INFO  r.r.y.u.c.AuthenticationController - Login request received for: john@example.com
2025-11-25 16:41:32 [http-nio-8082-exec-5] INFO  r.r.y.u.s.AuthenticationService - Login attempt for user: john@example.com
2025-11-25 16:41:32 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_locked_until,u1_0.avatar_url,u1_0.created_at,u1_0.email,u1_0.email_verified,u1_0.failed_login_attempts,u1_0.first_name,u1_0.last_login_at,u1_0.last_name,u1_0.password,u1_0.phone,u1_0.role,u1_0.status,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.email=?
2025-11-25 16:41:33 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_locked_until,u1_0.avatar_url,u1_0.created_at,u1_0.email,u1_0.email_verified,u1_0.failed_login_attempts,u1_0.first_name,u1_0.last_login_at,u1_0.last_name,u1_0.password,u1_0.phone,u1_0.role,u1_0.status,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.email=?
2025-11-25 16:41:33 [http-nio-8082-exec-5] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-11-25 16:41:33 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - update users set account_locked_until=?,avatar_url=?,email=?,email_verified=?,failed_login_attempts=?,first_name=?,last_login_at=?,last_name=?,password=?,phone=?,role=?,status=?,updated_at=?,username=? where id=?
2025-11-25 16:41:33 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_locked_until,u1_0.avatar_url,u1_0.created_at,u1_0.email,u1_0.email_verified,u1_0.failed_login_attempts,u1_0.first_name,u1_0.last_login_at,u1_0.last_name,u1_0.password,u1_0.phone,u1_0.role,u1_0.status,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.email=?
2025-11-25 16:41:34 [http-nio-8082-exec-5] DEBUG r.r.y.u.security.JwtService - Generating access token for user: john@example.com with roles: [USER]
2025-11-25 16:41:35 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - delete from refresh_tokens rt1_0 where rt1_0.user_id=?
2025-11-25 16:41:36 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - insert into refresh_tokens (created_at,expires_at,revoked,token,user_id) values (?,?,?,?,?)
2025-11-25 16:41:36 [http-nio-8082-exec-5] INFO  r.r.y.u.s.AuthenticationService - User logged in successfully: john@example.com
2025-11-25 16:42:03 [AsyncResolver-bootstrap-executor-%d] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-11-25 16:42:39 [http-nio-8082-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /users/me
2025-11-25 16:42:39 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_locked_until,u1_0.avatar_url,u1_0.created_at,u1_0.email,u1_0.email_verified,u1_0.failed_login_attempts,u1_0.first_name,u1_0.last_login_at,u1_0.last_name,u1_0.password,u1_0.phone,u1_0.role,u1_0.status,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.email=?
2025-11-25 16:42:39 [http-nio-8082-exec-4] DEBUG r.r.y.u.security.JwtService - Token validated successfully for user: john@example.com
2025-11-25 16:42:39 [http-nio-8082-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /users/me
2025-11-25 16:42:39 [http-nio-8082-exec-4] INFO  r.r.y.u.controller.UserController - Updating profile for user: john@example.com
2025-11-25 16:42:39 [http-nio-8082-exec-4] INFO  r.r.y.u.service.UserService - Updating profile for user: john@example.com
2025-11-25 16:42:39 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_locked_until,u1_0.avatar_url,u1_0.created_at,u1_0.email,u1_0.email_verified,u1_0.failed_login_attempts,u1_0.first_name,u1_0.last_login_at,u1_0.last_name,u1_0.password,u1_0.phone,u1_0.role,u1_0.status,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.email=?
2025-11-25 16:42:39 [http-nio-8082-exec-4] INFO  r.r.y.u.service.UserService - Profile updated successfully for user: john@example.com
2025-11-25 16:42:40 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - select a1_0.user_id,a1_0.id,a1_0.city,a1_0.country,a1_0.created_at,a1_0.is_default,a1_0.label,a1_0.postal_code,a1_0.state,a1_0.street_address from addresses a1_0 where a1_0.user_id=?
2025-11-25 16:42:40 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - update users set account_locked_until=?,avatar_url=?,email=?,email_verified=?,failed_login_attempts=?,first_name=?,last_login_at=?,last_name=?,password=?,phone=?,role=?,status=?,updated_at=?,username=? where id=?
2025-11-25 16:44:34 [http-nio-8082-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /users/me/password
2025-11-25 16:44:35 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_locked_until,u1_0.avatar_url,u1_0.created_at,u1_0.email,u1_0.email_verified,u1_0.failed_login_attempts,u1_0.first_name,u1_0.last_login_at,u1_0.last_name,u1_0.password,u1_0.phone,u1_0.role,u1_0.status,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.email=?
2025-11-25 16:44:35 [http-nio-8082-exec-9] DEBUG r.r.y.u.security.JwtService - Token validated successfully for user: john@example.com
2025-11-25 16:44:35 [http-nio-8082-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /users/me/password
2025-11-25 16:44:35 [http-nio-8082-exec-9] INFO  r.r.y.u.controller.UserController - Password change request from user: john@example.com
2025-11-25 16:44:35 [http-nio-8082-exec-9] INFO  r.r.y.u.service.UserService - Changing password for user: john@example.com
2025-11-25 16:44:35 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_locked_until,u1_0.avatar_url,u1_0.created_at,u1_0.email,u1_0.email_verified,u1_0.failed_login_attempts,u1_0.first_name,u1_0.last_login_at,u1_0.last_name,u1_0.password,u1_0.phone,u1_0.role,u1_0.status,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.email=?
2025-11-25 16:44:37 [http-nio-8082-exec-9] INFO  r.r.y.u.service.UserService - Password changed successfully for user: john@example.com
2025-11-25 16:44:37 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - update users set account_locked_until=?,avatar_url=?,email=?,email_verified=?,failed_login_attempts=?,first_name=?,last_login_at=?,last_name=?,password=?,phone=?,role=?,status=?,updated_at=?,username=? where id=?
2025-11-25 16:45:23 [http-nio-8082-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /users/me/addresses
2025-11-25 16:45:23 [http-nio-8082-exec-10] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_locked_until,u1_0.avatar_url,u1_0.created_at,u1_0.email,u1_0.email_verified,u1_0.failed_login_attempts,u1_0.first_name,u1_0.last_login_at,u1_0.last_name,u1_0.password,u1_0.phone,u1_0.role,u1_0.status,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.email=?
2025-11-25 16:45:23 [http-nio-8082-exec-10] DEBUG r.r.y.u.security.JwtService - Token validated successfully for user: john@example.com
2025-11-25 16:45:23 [http-nio-8082-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /users/me/addresses
2025-11-25 16:45:23 [http-nio-8082-exec-10] ERROR r.r.y.u.e.GlobalExceptionHandler - Unexpected error: 
org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'PUT' is not supported
	at org.springframework.web.servlet.mvc.method.RequestMappingInfoHandlerMapping.handleNoMatch(RequestMappingInfoHandlerMapping.java:267)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.lookupHandlerMethod(AbstractHandlerMethodMapping.java:441)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.getHandlerInternal(AbstractHandlerMethodMapping.java:382)
	at org.springframework.web.servlet.mvc.method.RequestMappingInfoHandlerMapping.getHandlerInternal(RequestMappingInfoHandlerMapping.java:127)
	at org.springframework.web.servlet.mvc.method.RequestMappingInfoHandlerMapping.getHandlerInternal(RequestMappingInfoHandlerMapping.java:68)
	at org.springframework.web.servlet.handler.AbstractHandlerMapping.getHandler(AbstractHandlerMapping.java:509)
	at org.springframework.web.servlet.DispatcherServlet.getHandler(DispatcherServlet.java:1284)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1065)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:925)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:593)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at rca.restapi.year2.userservice.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:87)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1570)
2025-11-25 16:45:29 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /users/me/addresses
2025-11-25 16:45:29 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_locked_until,u1_0.avatar_url,u1_0.created_at,u1_0.email,u1_0.email_verified,u1_0.failed_login_attempts,u1_0.first_name,u1_0.last_login_at,u1_0.last_name,u1_0.password,u1_0.phone,u1_0.role,u1_0.status,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.email=?
2025-11-25 16:45:29 [http-nio-8082-exec-1] DEBUG r.r.y.u.security.JwtService - Token validated successfully for user: john@example.com
2025-11-25 16:45:29 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /users/me/addresses
2025-11-25 16:45:29 [http-nio-8082-exec-1] INFO  r.r.y.u.controller.AddressController - Fetching addresses for user: john@example.com
2025-11-25 16:45:29 [http-nio-8082-exec-1] INFO  r.r.y.u.service.AddressService - Fetching addresses for user: john@example.com
2025-11-25 16:45:29 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_locked_until,u1_0.avatar_url,u1_0.created_at,u1_0.email,u1_0.email_verified,u1_0.failed_login_attempts,u1_0.first_name,u1_0.last_login_at,u1_0.last_name,u1_0.password,u1_0.phone,u1_0.role,u1_0.status,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.email=?
2025-11-25 16:45:29 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - select a1_0.id,a1_0.city,a1_0.country,a1_0.created_at,a1_0.is_default,a1_0.label,a1_0.postal_code,a1_0.state,a1_0.street_address,a1_0.user_id from addresses a1_0 left join users u1_0 on u1_0.id=a1_0.user_id where u1_0.id=?
2025-11-25 16:45:55 [http-nio-8082-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /users/me/addresses/default
2025-11-25 16:45:55 [http-nio-8082-exec-2] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_locked_until,u1_0.avatar_url,u1_0.created_at,u1_0.email,u1_0.email_verified,u1_0.failed_login_attempts,u1_0.first_name,u1_0.last_login_at,u1_0.last_name,u1_0.password,u1_0.phone,u1_0.role,u1_0.status,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.email=?
2025-11-25 16:45:55 [http-nio-8082-exec-2] DEBUG r.r.y.u.security.JwtService - Token validated successfully for user: john@example.com
2025-11-25 16:45:55 [http-nio-8082-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /users/me/addresses/default
2025-11-25 16:45:55 [http-nio-8082-exec-2] INFO  r.r.y.u.controller.AddressController - Fetching default address for user: john@example.com
2025-11-25 16:45:55 [http-nio-8082-exec-2] INFO  r.r.y.u.service.AddressService - Fetching default address for user: john@example.com
2025-11-25 16:45:55 [http-nio-8082-exec-2] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_locked_until,u1_0.avatar_url,u1_0.created_at,u1_0.email,u1_0.email_verified,u1_0.failed_login_attempts,u1_0.first_name,u1_0.last_login_at,u1_0.last_name,u1_0.password,u1_0.phone,u1_0.role,u1_0.status,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.email=?
2025-11-25 16:45:55 [http-nio-8082-exec-2] DEBUG org.hibernate.SQL - select a1_0.id,a1_0.city,a1_0.country,a1_0.created_at,a1_0.is_default,a1_0.label,a1_0.postal_code,a1_0.state,a1_0.street_address,a1_0.user_id from addresses a1_0 left join users u1_0 on u1_0.id=a1_0.user_id where u1_0.id=? and a1_0.is_default
2025-11-25 16:45:55 [http-nio-8082-exec-2] ERROR r.r.y.u.e.GlobalExceptionHandler - Resource not found: No default address found
2025-11-25 16:46:23 [http-nio-8082-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /users/me/addresses
2025-11-25 16:46:23 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_locked_until,u1_0.avatar_url,u1_0.created_at,u1_0.email,u1_0.email_verified,u1_0.failed_login_attempts,u1_0.first_name,u1_0.last_login_at,u1_0.last_name,u1_0.password,u1_0.phone,u1_0.role,u1_0.status,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.email=?
2025-11-25 16:46:23 [http-nio-8082-exec-3] DEBUG r.r.y.u.security.JwtService - Token validated successfully for user: john@example.com
2025-11-25 16:46:23 [http-nio-8082-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /users/me/addresses
2025-11-25 16:46:23 [http-nio-8082-exec-3] INFO  r.r.y.u.controller.AddressController - Creating new address for user: john@example.com
2025-11-25 16:46:23 [http-nio-8082-exec-3] INFO  r.r.y.u.service.AddressService - Creating new address for user: john@example.com
2025-11-25 16:46:23 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_locked_until,u1_0.avatar_url,u1_0.created_at,u1_0.email,u1_0.email_verified,u1_0.failed_login_attempts,u1_0.first_name,u1_0.last_login_at,u1_0.last_name,u1_0.password,u1_0.phone,u1_0.role,u1_0.status,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.email=?
2025-11-25 16:46:23 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - select a1_0.id,a1_0.city,a1_0.country,a1_0.created_at,a1_0.is_default,a1_0.label,a1_0.postal_code,a1_0.state,a1_0.street_address,a1_0.user_id from addresses a1_0 left join users u1_0 on u1_0.id=a1_0.user_id where u1_0.id=?
2025-11-25 16:46:23 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - insert into addresses (city,country,created_at,is_default,label,postal_code,state,street_address,user_id) values (?,?,?,?,?,?,?,?,?)
2025-11-25 16:46:23 [http-nio-8082-exec-3] INFO  r.r.y.u.service.AddressService - Address created successfully for user: john@example.com
2025-11-25 16:46:32 [http-nio-8082-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /users/me/addresses
2025-11-25 16:46:32 [http-nio-8082-exec-7] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_locked_until,u1_0.avatar_url,u1_0.created_at,u1_0.email,u1_0.email_verified,u1_0.failed_login_attempts,u1_0.first_name,u1_0.last_login_at,u1_0.last_name,u1_0.password,u1_0.phone,u1_0.role,u1_0.status,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.email=?
2025-11-25 16:46:32 [http-nio-8082-exec-7] DEBUG r.r.y.u.security.JwtService - Token validated successfully for user: john@example.com
2025-11-25 16:46:32 [http-nio-8082-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /users/me/addresses
2025-11-25 16:46:32 [http-nio-8082-exec-7] INFO  r.r.y.u.controller.AddressController - Fetching addresses for user: john@example.com
2025-11-25 16:46:32 [http-nio-8082-exec-7] INFO  r.r.y.u.service.AddressService - Fetching addresses for user: john@example.com
2025-11-25 16:46:32 [http-nio-8082-exec-7] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_locked_until,u1_0.avatar_url,u1_0.created_at,u1_0.email,u1_0.email_verified,u1_0.failed_login_attempts,u1_0.first_name,u1_0.last_login_at,u1_0.last_name,u1_0.password,u1_0.phone,u1_0.role,u1_0.status,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.email=?
2025-11-25 16:46:32 [http-nio-8082-exec-7] DEBUG org.hibernate.SQL - select a1_0.id,a1_0.city,a1_0.country,a1_0.created_at,a1_0.is_default,a1_0.label,a1_0.postal_code,a1_0.state,a1_0.street_address,a1_0.user_id from addresses a1_0 left join users u1_0 on u1_0.id=a1_0.user_id where u1_0.id=?
2025-11-25 16:46:39 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /users/me/addresses/default
2025-11-25 16:46:39 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_locked_until,u1_0.avatar_url,u1_0.created_at,u1_0.email,u1_0.email_verified,u1_0.failed_login_attempts,u1_0.first_name,u1_0.last_login_at,u1_0.last_name,u1_0.password,u1_0.phone,u1_0.role,u1_0.status,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.email=?
2025-11-25 16:46:39 [http-nio-8082-exec-5] DEBUG r.r.y.u.security.JwtService - Token validated successfully for user: john@example.com
2025-11-25 16:46:39 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /users/me/addresses/default
2025-11-25 16:46:39 [http-nio-8082-exec-5] INFO  r.r.y.u.controller.AddressController - Fetching default address for user: john@example.com
2025-11-25 16:46:39 [http-nio-8082-exec-5] INFO  r.r.y.u.service.AddressService - Fetching default address for user: john@example.com
2025-11-25 16:46:39 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_locked_until,u1_0.avatar_url,u1_0.created_at,u1_0.email,u1_0.email_verified,u1_0.failed_login_attempts,u1_0.first_name,u1_0.last_login_at,u1_0.last_name,u1_0.password,u1_0.phone,u1_0.role,u1_0.status,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.email=?
2025-11-25 16:46:39 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - select a1_0.id,a1_0.city,a1_0.country,a1_0.created_at,a1_0.is_default,a1_0.label,a1_0.postal_code,a1_0.state,a1_0.street_address,a1_0.user_id from addresses a1_0 left join users u1_0 on u1_0.id=a1_0.user_id where u1_0.id=? and a1_0.is_default
2025-11-25 16:47:03 [AsyncResolver-bootstrap-executor-%d] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-11-25 16:47:11 [http-nio-8082-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /users/me/addresses/default
2025-11-25 16:47:11 [http-nio-8082-exec-6] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_locked_until,u1_0.avatar_url,u1_0.created_at,u1_0.email,u1_0.email_verified,u1_0.failed_login_attempts,u1_0.first_name,u1_0.last_login_at,u1_0.last_name,u1_0.password,u1_0.phone,u1_0.role,u1_0.status,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.email=?
2025-11-25 16:47:11 [http-nio-8082-exec-6] DEBUG r.r.y.u.security.JwtService - Token validated successfully for user: john@example.com
2025-11-25 16:47:11 [http-nio-8082-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /users/me/addresses/default
2025-11-25 16:47:11 [http-nio-8082-exec-6] ERROR r.r.y.u.e.GlobalExceptionHandler - Unexpected error: 
org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Method parameter 'addressId': Failed to convert value of type 'java.lang.String' to required type 'java.lang.Long'; For input string: "default"
	at org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.convertIfNecessary(AbstractNamedValueMethodArgumentResolver.java:301)
	at org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.resolveArgument(AbstractNamedValueMethodArgumentResolver.java:136)
	at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:122)
	at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:227)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:181)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:925)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:593)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at rca.restapi.year2.userservice.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:87)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1570)
Caused by: java.lang.NumberFormatException: For input string: "default"
	at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67)
	at java.base/java.lang.Long.parseLong(Long.java:618)
	at java.base/java.lang.Long.valueOf(Long.java:974)
	at org.springframework.util.NumberUtils.parseNumber(NumberUtils.java:204)
	at org.springframework.beans.propertyeditors.CustomNumberEditor.setAsText(CustomNumberEditor.java:115)
	at org.springframework.beans.TypeConverterDelegate.doConvertTextValue(TypeConverterDelegate.java:439)
	at org.springframework.beans.TypeConverterDelegate.doConvertValue(TypeConverterDelegate.java:412)
	at org.springframework.beans.TypeConverterDelegate.convertIfNecessary(TypeConverterDelegate.java:161)
	at org.springframework.beans.TypeConverterSupport.convertIfNecessary(TypeConverterSupport.java:80)
	at org.springframework.beans.TypeConverterSupport.convertIfNecessary(TypeConverterSupport.java:53)
	at org.springframework.validation.DataBinder.convertIfNecessary(DataBinder.java:867)
	at org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.convertIfNecessary(AbstractNamedValueMethodArgumentResolver.java:293)
	... 136 common frames omitted
2025-11-25 16:47:23 [http-nio-8082-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /users/me/addresses/1
2025-11-25 16:47:23 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_locked_until,u1_0.avatar_url,u1_0.created_at,u1_0.email,u1_0.email_verified,u1_0.failed_login_attempts,u1_0.first_name,u1_0.last_login_at,u1_0.last_name,u1_0.password,u1_0.phone,u1_0.role,u1_0.status,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.email=?
2025-11-25 16:47:23 [http-nio-8082-exec-4] DEBUG r.r.y.u.security.JwtService - Token validated successfully for user: john@example.com
2025-11-25 16:47:23 [http-nio-8082-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /users/me/addresses/1
2025-11-25 16:47:23 [http-nio-8082-exec-4] INFO  r.r.y.u.controller.AddressController - Updating address 1 for user: john@example.com
2025-11-25 16:47:23 [http-nio-8082-exec-4] INFO  r.r.y.u.service.AddressService - Updating address 1 for user: john@example.com
2025-11-25 16:47:23 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_locked_until,u1_0.avatar_url,u1_0.created_at,u1_0.email,u1_0.email_verified,u1_0.failed_login_attempts,u1_0.first_name,u1_0.last_login_at,u1_0.last_name,u1_0.password,u1_0.phone,u1_0.role,u1_0.status,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.email=?
2025-11-25 16:47:23 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - select a1_0.id,a1_0.city,a1_0.country,a1_0.created_at,a1_0.is_default,a1_0.label,a1_0.postal_code,a1_0.state,a1_0.street_address,a1_0.user_id from addresses a1_0 where a1_0.id=?
2025-11-25 16:47:23 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - select a1_0.id,a1_0.city,a1_0.country,a1_0.created_at,a1_0.is_default,a1_0.label,a1_0.postal_code,a1_0.state,a1_0.street_address,a1_0.user_id from addresses a1_0 left join users u1_0 on u1_0.id=a1_0.user_id where u1_0.id=?
2025-11-25 16:47:23 [http-nio-8082-exec-4] INFO  r.r.y.u.service.AddressService - Address updated successfully for user: john@example.com
2025-11-25 16:47:23 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - update addresses set city=?,country=?,is_default=?,label=?,postal_code=?,state=?,street_address=?,user_id=? where id=?
2025-11-25 16:52:03 [AsyncResolver-bootstrap-executor-%d] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-11-25 16:55:37 [http-nio-8082-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /auth/refresh
2025-11-25 16:55:37 [http-nio-8082-exec-9] DEBUG r.r.y.u.s.JwtAuthenticationFilter - Skipping JWT validation for public endpoint: /auth/refresh
2025-11-25 16:55:37 [http-nio-8082-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-25 16:55:37 [http-nio-8082-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /auth/refresh
2025-11-25 16:55:38 [http-nio-8082-exec-9] INFO  r.r.y.u.c.AuthenticationController - Token refresh request received
2025-11-25 16:55:38 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - select rt1_0.id,rt1_0.created_at,rt1_0.expires_at,rt1_0.revoked,rt1_0.token,rt1_0.user_id from refresh_tokens rt1_0 where rt1_0.token=?
2025-11-25 16:55:39 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_locked_until,u1_0.avatar_url,u1_0.created_at,u1_0.email,u1_0.email_verified,u1_0.failed_login_attempts,u1_0.first_name,u1_0.last_login_at,u1_0.last_name,u1_0.password,u1_0.phone,u1_0.role,u1_0.status,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.id=?
2025-11-25 16:55:39 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_locked_until,u1_0.avatar_url,u1_0.created_at,u1_0.email,u1_0.email_verified,u1_0.failed_login_attempts,u1_0.first_name,u1_0.last_login_at,u1_0.last_name,u1_0.password,u1_0.phone,u1_0.role,u1_0.status,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.email=?
2025-11-25 16:55:39 [http-nio-8082-exec-9] DEBUG r.r.y.u.security.JwtService - Generating access token for user: john@example.com with roles: [ADMIN]
2025-11-25 16:55:39 [http-nio-8082-exec-9] INFO  r.r.y.u.s.AuthenticationService - Token refreshed for user: john@example.com
2025-11-25 16:56:14 [http-nio-8082-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/users?page=0&size=20
2025-11-25 16:56:14 [http-nio-8082-exec-10] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_locked_until,u1_0.avatar_url,u1_0.created_at,u1_0.email,u1_0.email_verified,u1_0.failed_login_attempts,u1_0.first_name,u1_0.last_login_at,u1_0.last_name,u1_0.password,u1_0.phone,u1_0.role,u1_0.status,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.email=?
2025-11-25 16:56:14 [http-nio-8082-exec-10] DEBUG r.r.y.u.security.JwtService - Token validated successfully for user: john@example.com
2025-11-25 16:56:14 [http-nio-8082-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/users?page=0&size=20
2025-11-25 16:56:15 [http-nio-8082-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity rca.restapi.year2.userservice.controller.AdminController.getAllUsers(org.springframework.data.domain.Pageable); target is of class [rca.restapi.year2.userservice.controller.AdminController]
2025-11-25 16:56:15 [http-nio-8082-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity rca.restapi.year2.userservice.controller.AdminController.getAllUsers(org.springframework.data.domain.Pageable); target is of class [rca.restapi.year2.userservice.controller.AdminController]
2025-11-25 16:56:15 [http-nio-8082-exec-10] INFO  r.r.y.u.controller.AdminController - Admin: Fetching all users with pagination
2025-11-25 16:56:15 [http-nio-8082-exec-10] INFO  r.r.y.u.service.UserService - Fetching all users with pagination
2025-11-25 16:56:15 [http-nio-8082-exec-10] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_locked_until,u1_0.avatar_url,u1_0.created_at,u1_0.email,u1_0.email_verified,u1_0.failed_login_attempts,u1_0.first_name,u1_0.last_login_at,u1_0.last_name,u1_0.password,u1_0.phone,u1_0.role,u1_0.status,u1_0.updated_at,u1_0.username from users u1_0 offset ? rows fetch first ? rows only
2025-11-25 16:56:15 [http-nio-8082-exec-10] DEBUG org.hibernate.SQL - select a1_0.user_id,a1_0.id,a1_0.city,a1_0.country,a1_0.created_at,a1_0.is_default,a1_0.label,a1_0.postal_code,a1_0.state,a1_0.street_address from addresses a1_0 where a1_0.user_id=?
2025-11-25 16:56:15 [http-nio-8082-exec-10] WARN  o.s.d.w.c.SpringDataJacksonConfiguration$PageModule$WarningLoggingModifier - Serializing PageImpl instances as-is is not supported, meaning that there is no guarantee about the stability of the resulting JSON structure!
	For a stable JSON structure, please use Spring Data's PagedModel (globally via @EnableSpringDataWebSupport(pageSerializationMode = VIA_DTO))
	or Spring HATEOAS and Spring Data's PagedResourcesAssembler as documented in https://docs.spring.io/spring-data/commons/reference/repositories/core-extensions.html#core.web.pageables.

2025-11-25 16:57:03 [AsyncResolver-bootstrap-executor-%d] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-11-25 16:57:18 [http-nio-8082-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/users/1
2025-11-25 16:57:18 [http-nio-8082-exec-2] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_locked_until,u1_0.avatar_url,u1_0.created_at,u1_0.email,u1_0.email_verified,u1_0.failed_login_attempts,u1_0.first_name,u1_0.last_login_at,u1_0.last_name,u1_0.password,u1_0.phone,u1_0.role,u1_0.status,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.email=?
2025-11-25 16:57:18 [http-nio-8082-exec-2] DEBUG r.r.y.u.security.JwtService - Token validated successfully for user: john@example.com
2025-11-25 16:57:18 [http-nio-8082-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/users/1
2025-11-25 16:57:18 [http-nio-8082-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity rca.restapi.year2.userservice.controller.AdminController.getUserById(java.lang.Long); target is of class [rca.restapi.year2.userservice.controller.AdminController]
2025-11-25 16:57:18 [http-nio-8082-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity rca.restapi.year2.userservice.controller.AdminController.getUserById(java.lang.Long); target is of class [rca.restapi.year2.userservice.controller.AdminController]
2025-11-25 16:57:18 [http-nio-8082-exec-2] INFO  r.r.y.u.controller.AdminController - Admin: Fetching user by ID: 1
2025-11-25 16:57:19 [http-nio-8082-exec-2] INFO  r.r.y.u.service.UserService - Fetching user by ID: 1
2025-11-25 16:57:19 [http-nio-8082-exec-2] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_locked_until,u1_0.avatar_url,u1_0.created_at,u1_0.email,u1_0.email_verified,u1_0.failed_login_attempts,u1_0.first_name,u1_0.last_login_at,u1_0.last_name,u1_0.password,u1_0.phone,u1_0.role,u1_0.status,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.id=?
2025-11-25 16:57:19 [http-nio-8082-exec-2] ERROR r.r.y.u.e.GlobalExceptionHandler - Resource not found: User not found
2025-11-25 16:57:23 [http-nio-8082-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/users/5
2025-11-25 16:57:23 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_locked_until,u1_0.avatar_url,u1_0.created_at,u1_0.email,u1_0.email_verified,u1_0.failed_login_attempts,u1_0.first_name,u1_0.last_login_at,u1_0.last_name,u1_0.password,u1_0.phone,u1_0.role,u1_0.status,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.email=?
2025-11-25 16:57:23 [http-nio-8082-exec-3] DEBUG r.r.y.u.security.JwtService - Token validated successfully for user: john@example.com
2025-11-25 16:57:23 [http-nio-8082-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/users/5
2025-11-25 16:57:23 [http-nio-8082-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity rca.restapi.year2.userservice.controller.AdminController.getUserById(java.lang.Long); target is of class [rca.restapi.year2.userservice.controller.AdminController]
2025-11-25 16:57:23 [http-nio-8082-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity rca.restapi.year2.userservice.controller.AdminController.getUserById(java.lang.Long); target is of class [rca.restapi.year2.userservice.controller.AdminController]
2025-11-25 16:57:23 [http-nio-8082-exec-3] INFO  r.r.y.u.controller.AdminController - Admin: Fetching user by ID: 5
2025-11-25 16:57:23 [http-nio-8082-exec-3] INFO  r.r.y.u.service.UserService - Fetching user by ID: 5
2025-11-25 16:57:23 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_locked_until,u1_0.avatar_url,u1_0.created_at,u1_0.email,u1_0.email_verified,u1_0.failed_login_attempts,u1_0.first_name,u1_0.last_login_at,u1_0.last_name,u1_0.password,u1_0.phone,u1_0.role,u1_0.status,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.id=?
2025-11-25 16:57:23 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - select a1_0.user_id,a1_0.id,a1_0.city,a1_0.country,a1_0.created_at,a1_0.is_default,a1_0.label,a1_0.postal_code,a1_0.state,a1_0.street_address from addresses a1_0 where a1_0.user_id=?
2025-11-25 16:57:59 [http-nio-8082-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/users/user/ACTIVE
2025-11-25 16:57:59 [http-nio-8082-exec-7] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_locked_until,u1_0.avatar_url,u1_0.created_at,u1_0.email,u1_0.email_verified,u1_0.failed_login_attempts,u1_0.first_name,u1_0.last_login_at,u1_0.last_name,u1_0.password,u1_0.phone,u1_0.role,u1_0.status,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.email=?
2025-11-25 16:57:59 [http-nio-8082-exec-7] DEBUG r.r.y.u.security.JwtService - Token validated successfully for user: john@example.com
2025-11-25 16:57:59 [http-nio-8082-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/users/user/ACTIVE
2025-11-25 16:57:59 [http-nio-8082-exec-7] ERROR r.r.y.u.e.GlobalExceptionHandler - Unexpected error: 
org.springframework.web.servlet.resource.NoResourceFoundException: No static resource admin/users/user/ACTIVE.
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:585)
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:52)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at rca.restapi.year2.userservice.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:87)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1570)
2025-11-25 16:58:08 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/users/status/ACTIVE
2025-11-25 16:58:08 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_locked_until,u1_0.avatar_url,u1_0.created_at,u1_0.email,u1_0.email_verified,u1_0.failed_login_attempts,u1_0.first_name,u1_0.last_login_at,u1_0.last_name,u1_0.password,u1_0.phone,u1_0.role,u1_0.status,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.email=?
2025-11-25 16:58:08 [http-nio-8082-exec-5] DEBUG r.r.y.u.security.JwtService - Token validated successfully for user: john@example.com
2025-11-25 16:58:08 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/users/status/ACTIVE
2025-11-25 16:58:08 [http-nio-8082-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity rca.restapi.year2.userservice.controller.AdminController.getUsersByStatus(rca.restapi.year2.userservice.types.UserStatus); target is of class [rca.restapi.year2.userservice.controller.AdminController]
2025-11-25 16:58:08 [http-nio-8082-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity rca.restapi.year2.userservice.controller.AdminController.getUsersByStatus(rca.restapi.year2.userservice.types.UserStatus); target is of class [rca.restapi.year2.userservice.controller.AdminController]
2025-11-25 16:58:08 [http-nio-8082-exec-5] INFO  r.r.y.u.controller.AdminController - Admin: Fetching users by status: ACTIVE
2025-11-25 16:58:08 [http-nio-8082-exec-5] INFO  r.r.y.u.service.UserService - Fetching users by status: ACTIVE
2025-11-25 16:58:08 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_locked_until,u1_0.avatar_url,u1_0.created_at,u1_0.email,u1_0.email_verified,u1_0.failed_login_attempts,u1_0.first_name,u1_0.last_login_at,u1_0.last_name,u1_0.password,u1_0.phone,u1_0.role,u1_0.status,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.status=?
2025-11-25 16:58:08 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - select a1_0.user_id,a1_0.id,a1_0.city,a1_0.country,a1_0.created_at,a1_0.is_default,a1_0.label,a1_0.postal_code,a1_0.state,a1_0.street_address from addresses a1_0 where a1_0.user_id=?
2025-11-25 16:58:28 [http-nio-8082-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/users/status/PENDING_VERIFICATION
2025-11-25 16:58:28 [http-nio-8082-exec-6] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_locked_until,u1_0.avatar_url,u1_0.created_at,u1_0.email,u1_0.email_verified,u1_0.failed_login_attempts,u1_0.first_name,u1_0.last_login_at,u1_0.last_name,u1_0.password,u1_0.phone,u1_0.role,u1_0.status,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.email=?
2025-11-25 16:58:28 [http-nio-8082-exec-6] DEBUG r.r.y.u.security.JwtService - Token validated successfully for user: john@example.com
2025-11-25 16:58:28 [http-nio-8082-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/users/status/PENDING_VERIFICATION
2025-11-25 16:58:28 [http-nio-8082-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity rca.restapi.year2.userservice.controller.AdminController.getUsersByStatus(rca.restapi.year2.userservice.types.UserStatus); target is of class [rca.restapi.year2.userservice.controller.AdminController]
2025-11-25 16:58:28 [http-nio-8082-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity rca.restapi.year2.userservice.controller.AdminController.getUsersByStatus(rca.restapi.year2.userservice.types.UserStatus); target is of class [rca.restapi.year2.userservice.controller.AdminController]
2025-11-25 16:58:28 [http-nio-8082-exec-6] INFO  r.r.y.u.controller.AdminController - Admin: Fetching users by status: PENDING_VERIFICATION
2025-11-25 16:58:28 [http-nio-8082-exec-6] INFO  r.r.y.u.service.UserService - Fetching users by status: PENDING_VERIFICATION
2025-11-25 16:58:28 [http-nio-8082-exec-6] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_locked_until,u1_0.avatar_url,u1_0.created_at,u1_0.email,u1_0.email_verified,u1_0.failed_login_attempts,u1_0.first_name,u1_0.last_login_at,u1_0.last_name,u1_0.password,u1_0.phone,u1_0.role,u1_0.status,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.status=?
2025-11-25 17:02:03 [AsyncResolver-bootstrap-executor-%d] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-11-25 17:07:03 [AsyncResolver-bootstrap-executor-%d] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-11-25 17:12:03 [AsyncResolver-bootstrap-executor-%d] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-11-25 17:17:04 [AsyncResolver-bootstrap-executor-%d] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-11-25 17:22:04 [AsyncResolver-bootstrap-executor-%d] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-11-25 17:27:04 [AsyncResolver-bootstrap-executor-%d] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-11-25 17:32:04 [AsyncResolver-bootstrap-executor-%d] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-11-25 17:37:04 [AsyncResolver-bootstrap-executor-%d] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-11-25 17:42:04 [AsyncResolver-bootstrap-executor-%d] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-11-25 17:47:04 [AsyncResolver-bootstrap-executor-%d] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-11-25 17:52:04 [AsyncResolver-bootstrap-executor-%d] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-11-25 17:57:04 [AsyncResolver-bootstrap-executor-%d] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-11-25 18:02:04 [AsyncResolver-bootstrap-executor-%d] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-11-25 18:07:04 [AsyncResolver-bootstrap-executor-%d] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-11-25 18:12:04 [AsyncResolver-bootstrap-executor-%d] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-11-25 18:17:04 [AsyncResolver-bootstrap-executor-%d] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-11-25 18:22:04 [AsyncResolver-bootstrap-executor-%d] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-11-25 18:27:04 [AsyncResolver-bootstrap-executor-%d] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-11-25 18:32:04 [AsyncResolver-bootstrap-executor-%d] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-11-25 18:37:04 [AsyncResolver-bootstrap-executor-%d] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-11-25 18:42:04 [AsyncResolver-bootstrap-executor-%d] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-11-25 19:01:11 [HikariPool-1:housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=16m13s873ms561s300ns).
2025-11-25 19:02:51 [AsyncResolver-bootstrap-executor-%d] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-11-25 19:18:20 [HikariPool-1:housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=12m8s967ms720s200ns).
2025-11-25 19:19:43 [AsyncResolver-bootstrap-executor-%d] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-11-25 19:24:43 [AsyncResolver-bootstrap-executor-%d] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-11-25 19:29:43 [AsyncResolver-bootstrap-executor-%d] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-11-25 19:34:43 [AsyncResolver-bootstrap-executor-%d] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-11-25 19:39:43 [AsyncResolver-bootstrap-executor-%d] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-11-25 19:44:43 [AsyncResolver-bootstrap-executor-%d] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-11-25 19:49:43 [AsyncResolver-bootstrap-executor-%d] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-11-25 19:54:43 [AsyncResolver-bootstrap-executor-%d] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-11-25 19:59:43 [AsyncResolver-bootstrap-executor-%d] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-11-25 20:04:43 [AsyncResolver-bootstrap-executor-%d] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-11-25 20:09:43 [AsyncResolver-bootstrap-executor-%d] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-11-25 20:14:43 [AsyncResolver-bootstrap-executor-%d] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-11-25 20:19:44 [AsyncResolver-bootstrap-executor-%d] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-11-25 20:24:44 [AsyncResolver-bootstrap-executor-%d] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-11-25 20:29:44 [AsyncResolver-bootstrap-executor-%d] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-11-25 20:34:44 [AsyncResolver-bootstrap-executor-%d] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-11-25 20:39:44 [AsyncResolver-bootstrap-executor-%d] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-11-25 20:44:44 [AsyncResolver-bootstrap-executor-%d] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-11-25 21:00:25 [main] INFO  r.r.y.u.UserServiceApplication - Starting UserServiceApplication using Java 22.0.2 with PID 9584 (O:\Projects\Java\Inventory-Manager\user-service\target\classes started by 21HD in O:\Projects\Java\Inventory-Manager\user-service)
2025-11-25 21:00:25 [main] DEBUG r.r.y.u.UserServiceApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-11-25 21:00:25 [main] INFO  r.r.y.u.UserServiceApplication - The following 1 profile is active: "dev"
2025-11-25 21:00:26 [main] INFO  o.s.c.c.c.ConfigServerConfigDataLoader - Fetching config from server at : http://localhost:8888
2025-11-25 21:00:26 [main] INFO  o.s.c.c.c.ConfigServerConfigDataLoader - Located environment: name=user-service, profiles=[default], label=null, version=76650a822f01044d5af5729fc2414b7094afb23b, state=
2025-11-25 21:00:26 [main] INFO  o.s.c.c.c.ConfigServerConfigDataLoader - Fetching config from server at : http://localhost:8888
2025-11-25 21:00:26 [main] INFO  o.s.c.c.c.ConfigServerConfigDataLoader - Located environment: name=user-service, profiles=[dev], label=null, version=76650a822f01044d5af5729fc2414b7094afb23b, state=
2025-11-25 21:00:32 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-25 21:00:32 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-25 21:00:34 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 1912 ms. Found 3 JPA repository interfaces.
2025-11-25 21:00:34 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-25 21:00:34 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-25 21:00:34 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface rca.restapi.year2.userservice.repository.AddressRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-25 21:00:34 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface rca.restapi.year2.userservice.repository.RefreshTokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-25 21:00:34 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface rca.restapi.year2.userservice.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-25 21:00:34 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 149 ms. Found 0 Redis repository interfaces.
2025-11-25 21:00:36 [main] INFO  o.s.cloud.context.scope.GenericScope - BeanFactory id=f76611ae-b0b0-3638-86c3-de0e9740510f
2025-11-25 21:00:39 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8082 (http)
2025-11-25 21:00:39 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-25 21:00:39 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-11-25 21:00:39 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-25 21:00:39 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 13557 ms
2025-11-25 21:00:41 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-25 21:00:42 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@4f55a864
2025-11-25 21:00:42 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-25 21:00:42 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5432/userdb (PostgreSQL 17.0)
2025-11-25 21:00:42 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 1 migration (execution time 00:00.084s)
2025-11-25 21:00:42 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 1
2025-11-25 21:00:42 [main] ERROR o.f.core.internal.command.DbMigrate - Schema "public" has version 1, but no migration could be resolved in the configured locations !
2025-11-25 21:00:42 [main] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-11-25 21:00:43 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-25 21:00:43 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.15.Final
2025-11-25 21:00:44 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-25 21:00:45 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-25 21:00:45 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-25 21:00:48 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-25 21:00:48 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-25 21:00:49 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-25 21:00:51 [main] DEBUG r.r.y.u.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-25 21:00:52 [main] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-11-25 21:00:52 [main] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-11-25 21:00:52 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-25 21:00:54 [main] INFO  o.s.cloud.commons.util.InetUtils - Cannot determine local hostname
2025-11-25 21:00:54 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-11-25 21:00:54 [main] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-25 21:00:56 [main] INFO  o.s.cloud.commons.util.InetUtils - Cannot determine local hostname
2025-11-25 21:00:56 [main] INFO  o.s.c.n.e.c.DiscoveryClientOptionalArgsConfiguration - Eureka HTTP Client uses RestTemplate.
2025-11-25 21:00:56 [main] WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-11-25 21:00:56 [main] INFO  o.s.c.n.eureka.InstanceInfoFactory - Setting initial instance status as: STARTING
2025-11-25 21:00:56 [main] INFO  c.netflix.discovery.DiscoveryClient - Initializing Eureka in region us-east-1
2025-11-25 21:00:56 [main] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-11-25 21:00:56 [main] INFO  c.netflix.discovery.DiscoveryClient - Disable delta property : false
2025-11-25 21:00:56 [main] INFO  c.netflix.discovery.DiscoveryClient - Single vip registry refresh property : null
2025-11-25 21:00:56 [main] INFO  c.netflix.discovery.DiscoveryClient - Force full registry fetch : false
2025-11-25 21:00:56 [main] INFO  c.netflix.discovery.DiscoveryClient - Application is null : false
2025-11-25 21:00:56 [main] INFO  c.netflix.discovery.DiscoveryClient - Registered Applications size is zero : true
2025-11-25 21:00:56 [main] INFO  c.netflix.discovery.DiscoveryClient - Application version is -1: true
2025-11-25 21:00:56 [main] INFO  c.netflix.discovery.DiscoveryClient - Getting all instance registry info from the eureka server
2025-11-25 21:00:56 [main] INFO  c.netflix.discovery.DiscoveryClient - The response status is 200
2025-11-25 21:00:56 [main] INFO  c.netflix.discovery.DiscoveryClient - Starting heartbeat executor: renew interval is: 30
2025-11-25 21:00:56 [main] INFO  c.n.discovery.InstanceInfoReplicator - InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-11-25 21:00:56 [main] INFO  c.netflix.discovery.DiscoveryClient - Discovery Client initialized at timestamp 1764097256815 with initial instances count: 3
2025-11-25 21:00:56 [main] INFO  o.s.c.n.e.s.EurekaServiceRegistry - Registering application USER-SERVICE with eureka with status UP
2025-11-25 21:00:56 [main] INFO  c.netflix.discovery.DiscoveryClient - Saw local status change event StatusChangeEvent [timestamp=1764097256820, current=UP, previous=STARTING]
2025-11-25 21:00:56 [DiscoveryClient-InstanceInfoReplicator-%d] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_USER-SERVICE/localhost:user-service:8082: registering service...
2025-11-25 21:00:56 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8082 (http) with context path '/'
2025-11-25 21:00:56 [main] INFO  o.s.c.n.e.s.EurekaAutoServiceRegistration - Updating port to 8082
2025-11-25 21:00:56 [DiscoveryClient-InstanceInfoReplicator-%d] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_USER-SERVICE/localhost:user-service:8082 - registration status: 204
2025-11-25 21:00:57 [main] INFO  o.s.cloud.commons.util.InetUtils - Cannot determine local hostname
2025-11-25 21:00:57 [main] INFO  r.r.y.u.UserServiceApplication - Started UserServiceApplication in 53.329 seconds (process running for 58.874)
2025-11-25 21:02:09 [http-nio-8082-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-25 21:02:09 [http-nio-8082-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-25 21:02:09 [http-nio-8082-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 141 ms
2025-11-25 21:02:09 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /auth/refresh
2025-11-25 21:02:09 [http-nio-8082-exec-1] DEBUG r.r.y.u.s.JwtAuthenticationFilter - Skipping JWT validation for public endpoint: /auth/refresh
2025-11-25 21:02:09 [http-nio-8082-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-25 21:02:09 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /auth/refresh
2025-11-25 21:02:10 [http-nio-8082-exec-1] INFO  r.r.y.u.c.AuthenticationController - Token refresh request received
2025-11-25 21:02:11 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - select rt1_0.id,rt1_0.created_at,rt1_0.expires_at,rt1_0.revoked,rt1_0.token,rt1_0.user_id from refresh_tokens rt1_0 where rt1_0.token=?
2025-11-25 21:02:11 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_locked_until,u1_0.avatar_url,u1_0.created_at,u1_0.email,u1_0.email_verified,u1_0.failed_login_attempts,u1_0.first_name,u1_0.last_login_at,u1_0.last_name,u1_0.password,u1_0.phone,u1_0.role,u1_0.status,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.id=?
2025-11-25 21:02:11 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_locked_until,u1_0.avatar_url,u1_0.created_at,u1_0.email,u1_0.email_verified,u1_0.failed_login_attempts,u1_0.first_name,u1_0.last_login_at,u1_0.last_name,u1_0.password,u1_0.phone,u1_0.role,u1_0.status,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.email=?
2025-11-25 21:02:11 [http-nio-8082-exec-1] DEBUG r.r.y.u.security.JwtService - Generating access token for user: john@example.com with roles: [ADMIN]
2025-11-25 21:02:11 [http-nio-8082-exec-1] INFO  r.r.y.u.s.AuthenticationService - Token refreshed for user: john@example.com
2025-11-25 21:04:07 [http-nio-8082-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /auth/refresh
2025-11-25 21:04:07 [http-nio-8082-exec-3] DEBUG r.r.y.u.s.JwtAuthenticationFilter - Skipping JWT validation for public endpoint: /auth/refresh
2025-11-25 21:04:07 [http-nio-8082-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-25 21:04:07 [http-nio-8082-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /auth/refresh
2025-11-25 21:04:08 [http-nio-8082-exec-3] INFO  r.r.y.u.c.AuthenticationController - Token refresh request received
2025-11-25 21:04:08 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - select rt1_0.id,rt1_0.created_at,rt1_0.expires_at,rt1_0.revoked,rt1_0.token,rt1_0.user_id from refresh_tokens rt1_0 where rt1_0.token=?
2025-11-25 21:04:08 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_locked_until,u1_0.avatar_url,u1_0.created_at,u1_0.email,u1_0.email_verified,u1_0.failed_login_attempts,u1_0.first_name,u1_0.last_login_at,u1_0.last_name,u1_0.password,u1_0.phone,u1_0.role,u1_0.status,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.id=?
2025-11-25 21:04:08 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_locked_until,u1_0.avatar_url,u1_0.created_at,u1_0.email,u1_0.email_verified,u1_0.failed_login_attempts,u1_0.first_name,u1_0.last_login_at,u1_0.last_name,u1_0.password,u1_0.phone,u1_0.role,u1_0.status,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.email=?
2025-11-25 21:04:08 [http-nio-8082-exec-3] DEBUG r.r.y.u.security.JwtService - Generating access token for user: john@example.com with roles: [ADMIN]
2025-11-25 21:04:08 [http-nio-8082-exec-3] INFO  r.r.y.u.s.AuthenticationService - Token refreshed for user: john@example.com
2025-11-25 21:04:44 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/users/status/PENDING_VERIFICATION
2025-11-25 21:04:46 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_locked_until,u1_0.avatar_url,u1_0.created_at,u1_0.email,u1_0.email_verified,u1_0.failed_login_attempts,u1_0.first_name,u1_0.last_login_at,u1_0.last_name,u1_0.password,u1_0.phone,u1_0.role,u1_0.status,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.email=?
2025-11-25 21:04:46 [http-nio-8082-exec-5] DEBUG r.r.y.u.security.JwtService - Token validated successfully for user: john@example.com
2025-11-25 21:04:46 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/users/status/PENDING_VERIFICATION
2025-11-25 21:04:46 [http-nio-8082-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity rca.restapi.year2.userservice.controller.AdminController.getUsersByStatus(rca.restapi.year2.userservice.types.UserStatus); target is of class [rca.restapi.year2.userservice.controller.AdminController]
2025-11-25 21:04:46 [http-nio-8082-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity rca.restapi.year2.userservice.controller.AdminController.getUsersByStatus(rca.restapi.year2.userservice.types.UserStatus); target is of class [rca.restapi.year2.userservice.controller.AdminController]
2025-11-25 21:04:46 [http-nio-8082-exec-5] INFO  r.r.y.u.controller.AdminController - Admin: Fetching users by status: PENDING_VERIFICATION
2025-11-25 21:04:46 [http-nio-8082-exec-5] INFO  r.r.y.u.service.UserService - Fetching users by status: PENDING_VERIFICATION
2025-11-25 21:04:46 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_locked_until,u1_0.avatar_url,u1_0.created_at,u1_0.email,u1_0.email_verified,u1_0.failed_login_attempts,u1_0.first_name,u1_0.last_login_at,u1_0.last_name,u1_0.password,u1_0.phone,u1_0.role,u1_0.status,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.status=?
2025-11-25 21:04:57 [http-nio-8082-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/users/status/ACTIVE
2025-11-25 21:04:57 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_locked_until,u1_0.avatar_url,u1_0.created_at,u1_0.email,u1_0.email_verified,u1_0.failed_login_attempts,u1_0.first_name,u1_0.last_login_at,u1_0.last_name,u1_0.password,u1_0.phone,u1_0.role,u1_0.status,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.email=?
2025-11-25 21:04:57 [http-nio-8082-exec-4] DEBUG r.r.y.u.security.JwtService - Token validated successfully for user: john@example.com
2025-11-25 21:04:57 [http-nio-8082-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/users/status/ACTIVE
2025-11-25 21:04:57 [http-nio-8082-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity rca.restapi.year2.userservice.controller.AdminController.getUsersByStatus(rca.restapi.year2.userservice.types.UserStatus); target is of class [rca.restapi.year2.userservice.controller.AdminController]
2025-11-25 21:04:57 [http-nio-8082-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity rca.restapi.year2.userservice.controller.AdminController.getUsersByStatus(rca.restapi.year2.userservice.types.UserStatus); target is of class [rca.restapi.year2.userservice.controller.AdminController]
2025-11-25 21:04:58 [http-nio-8082-exec-4] INFO  r.r.y.u.controller.AdminController - Admin: Fetching users by status: ACTIVE
2025-11-25 21:04:58 [http-nio-8082-exec-4] INFO  r.r.y.u.service.UserService - Fetching users by status: ACTIVE
2025-11-25 21:04:58 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.account_locked_until,u1_0.avatar_url,u1_0.created_at,u1_0.email,u1_0.email_verified,u1_0.failed_login_attempts,u1_0.first_name,u1_0.last_login_at,u1_0.last_name,u1_0.password,u1_0.phone,u1_0.role,u1_0.status,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.status=?
2025-11-25 21:04:58 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - select a1_0.user_id,a1_0.id,a1_0.city,a1_0.country,a1_0.created_at,a1_0.is_default,a1_0.label,a1_0.postal_code,a1_0.state,a1_0.street_address from addresses a1_0 where a1_0.user_id=?
2025-11-25 21:05:56 [AsyncResolver-bootstrap-executor-%d] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
